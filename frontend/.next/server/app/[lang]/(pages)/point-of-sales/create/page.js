(()=>{var e={};e.id=624,e.ids=[624],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},82217:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(49519),r(16666),r(41037),r(30754),r(35866);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["[lang]",{children:["(pages)",{children:["point-of-sales",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,49519)),"/home/ezekiel-kaeyros/githubci/swi/frontend/src/app/[lang]/(pages)/point-of-sales/create/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,16666)),"/home/ezekiel-kaeyros/githubci/swi/frontend/src/app/[lang]/(pages)/point-of-sales/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,41037)),"/home/ezekiel-kaeyros/githubci/swi/frontend/src/app/[lang]/(pages)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,30754)),"/home/ezekiel-kaeyros/githubci/swi/frontend/src/app/[lang]/(pages)/not-found.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ezekiel-kaeyros/githubci/swi/frontend/src/app/[lang]/(pages)/point-of-sales/create/page.tsx"],u="/[lang]/(pages)/point-of-sales/create/page",h={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/[lang]/(pages)/point-of-sales/create/page",pathname:"/[lang]/point-of-sales/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},52641:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,92481,23)),Promise.resolve().then(r.t.bind(r,79404,23)),Promise.resolve().then(r.bind(r,50789)),Promise.resolve().then(r.bind(r,68703)),Promise.resolve().then(r.bind(r,47190))},47190:(e,t,r)=>{"use strict";r.d(t,{default:()=>k});var s=r(10326),a=r(17577),n=r(25842),i=r(74723),o=r(40381),l=r(8576),d=r(72969),c=r(88166);let u={src:"/_next/static/media/contactIcon.1cadd057.svg",height:24,width:24,blurWidth:0,blurHeight:0},h={src:"/_next/static/media/shopLocationIcon.dd709292.svg",height:24,width:24,blurWidth:0,blurHeight:0},m={src:"/_next/static/media/positionIcon.fe6b4e6e.svg",height:24,width:24,blurWidth:0,blurHeight:0};var x=r(70308),p=r(46226);let g=({name:e,register:t})=>{let[r,n]=(0,a.useState)();return s.jsx("div",{className:"flex items-center justify-center w-full",children:(0,s.jsxs)("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-cardDark hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[(0,s.jsxs)("div",{className:`flex ${r&&"hidden"} flex-col items-center justify-center pt-5 pb-6`,children:[s.jsx("svg",{className:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:s.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),(0,s.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload an Image"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG (MAX. 800x400px)"})]}),r&&(0,s.jsxs)("div",{className:"h-full w-full relative",children:[s.jsx("div",{onClick:()=>n(null),className:"absolute -top-4 -right-4 h-8 w-8 flex items-center justify-center rounded-full bg-red-700 p-1",children:"x"}),s.jsx(p.default,{width:200,className:"w-full h-full object-cover",height:200,src:r,alt:"File uploaded"})]}),s.jsx("input",{...t,disabled:!!r,name:e,id:"dropzone-file",type:"file",className:"hidden",onChange:function(e){console.log(e.target.files),n(URL.createObjectURL(e.target.files[0]))}})]})})};var f=r(94682),b=r(2238),j=r(68703),v=r(60809),y=r(24299),w=r(16788);let k=()=>{let[e,t]=(0,a.useState)(!1),r=(0,n.I0)(),{channelClusters:k}=(0,w.r)();console.log("This is a channel cluster",k);let C=(0,n.v9)(e=>e.pointOfSaleViewReducer.selectedPlace),{register:P,handleSubmit:N,setValue:_,reset:S,watch:q,formState:{errors:L,isValid:Z}}=(0,i.cI)({mode:"onChange"}),z=q("channelCluster"),O=q("tradeChannel"),A=k?.find(e=>e?.name?.toLowerCase()===z?.toString().toLowerCase());console.log("active Channel Cluster",A);let F=A?.tradeChannel?.find(e=>e?.title?.toLowerCase()===O?.toString()?.toLowerCase());return(0,a.useEffect)(()=>{C&&C?.latitude&&C.longitude&&(C.latitude&&_("position.lat",C.latitude),C.longitude&&_("position.lng",C.longitude))},[C]),(0,s.jsxs)("form",{onSubmit:N(e=>{console.log("data",e);let t=e?.channelCluster.toString(),s=e?.tradeChannel.toString();e?.category?.toString();let a=k?.filter(e=>e?.name?.toLowerCase()===z?.toString().toLowerCase());a[0].tradeChannel?.filter(e=>e?.title?.toLowerCase()===s?.toString()?.toLowerCase());let n=(0,y.m)(k,"name",t);console.log("Channel cluster to be submitted",n);let i={...e,channelCluster:n,markerColor:a[0].color?.hex};console.log("new data",i),console.log("Active cluster again",a),r((0,b.Td)({newPointOfSales:{...i,firstStat:"50 000 XAF",secondStat:"5%"}}))}),children:[s.jsx(o.x7,{position:"top-center",reverseOrder:!1}),s.jsx("div",{children:s.jsx(l.Z,{register:P("name",{required:!0,minLength:3}),icon:d.Z,name:"name",placeholder:"Shop Name"})}),s.jsx("p",{className:"mt-1 text-sm text-red-400",children:L?.name&&s.jsx(s.Fragment,{children:"A minimum of 3 characters is required"})}),s.jsx("div",{children:s.jsx(l.Z,{icon:c.Z,register:P("shopOwner",{required:!0,minLength:3}),name:"shopOwner",placeholder:"Shop Owner"})}),s.jsx("p",{className:"mt-1 text-sm text-red-400",children:L?.shopOwner&&s.jsx(s.Fragment,{children:"A minimum of 3 characters is required"})}),s.jsx("div",{children:s.jsx(l.Z,{icon:u,name:"contact",type:"number",register:P("contact",{required:!0,pattern:/^6(9|7|6|5|2|8)[0-9]{7}$/}),placeholder:"Contact Details"})}),s.jsx("p",{className:"mt-1 text-sm text-red-400",children:L?.contact&&s.jsx(s.Fragment,{children:"contact is not valid"})}),s.jsx("div",{children:s.jsx(l.Z,{icon:h,name:"ShopLocation",placeholder:"Shop Location",register:P("shopLocation",{required:!0})})}),s.jsx(j.default,{children:(0,s.jsxs)("div",{className:"rounded-md flex items-center bg-buttonPrimary px-3 py-2 w-fit text-sm ml-auto",onClick:()=>{r((0,b.j3)({toggle:!0}))},children:[s.jsx(p.default,{className:"mr-2",src:m,alt:"Location icon"}),"Get location"]})}),(0,s.jsxs)("div",{className:"flex h-fit space-x-5",children:[s.jsx(l.Z,{icon:m,name:"position.lat",type:"text",placeholder:"Latitude",value:`${C.latitude}`,register:P("position.lat")}),s.jsx(l.Z,{icon:m,name:"longitude",type:"text",placeholder:"Longitude",register:P("position.lng")})]}),(0,s.jsxs)("div",{className:"flex h-fit my-4 space-x-5",children:[(0,s.jsxs)("div",{className:"w-full",children:[s.jsx("h1",{children:"Channel cluster"}),s.jsx(v.Z,{name:"channelCluster",options:(0,y.z)(k),register:P("channelCluster",{required:!0})})]}),z&&(0,s.jsxs)("div",{className:"w-full",children:[s.jsx("h1",{children:"Trade channel"}),s.jsx(v.Z,{name:"tradeChannel",options:(0,y.z)(A?.tradeChannel,"title"),register:P("tradeChannel",{required:!0})})]})]}),s.jsx("div",{children:O&&F?.content&&F?.content?.length!==0&&(0,s.jsxs)("div",{children:[s.jsx("h1",{children:"Category"}),s.jsx(v.Z,{name:"category",options:(0,y.z)(F?.content,"title"),register:P("category",{required:!0})})]})}),s.jsx("div",{className:"my-8",children:s.jsx(g,{register:"",name:"image"})}),s.jsx("div",{className:"w-full my-8",children:s.jsx(x.z,{disabled:!!e,variant:!Z||e?"disabled":"default",className:"w-full",children:e?s.jsx(f.c,{size:"sm",color:"white"}):s.jsx(s.Fragment,{children:"Add Location"})})})]})}},60809:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(10326);r(17577);let a=({title:e,options:t,name:r,register:a})=>(0,s.jsxs)(s.Fragment,{children:[s.jsx("label",{htmlFor:r,className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:e}),s.jsx("select",{name:r,...a,id:r,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-buttonPrimary focus:border-buttonPrimary block w-full py-4 px-4 dark:bg-cardDark dark:border-gray-400 dark:placeholder-gray-100 dark:text-white dark:focus:ring-buttonPrimary dark:focus:border-buttonPrimary",children:t?.map(e=>s.jsx("option",{value:e,children:e},e?.id))})]})},8576:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(10326),a=r(46226);r(17577);let n=({register:e,title:t,name:r,icon:n,placeholder:i,type:o})=>(0,s.jsxs)("div",{className:"relative w-full py-4",children:[t&&s.jsx("label",{className:"font-medium block mb-0 mt-4 text-gray-700",htmlFor:r,children:t}),s.jsx("input",{className:"appearance-none relative border rounded-xl w-full py-4 px-12 leading-tight border-gray-300 bg-transparent focus:outline-none focus:border-buttonPrimary focus:dark:bg-cardDark dark:text-white pr-16",id:r,type:o||"text",placeholder:i,autoComplete:"off",autoFocus:!0,...e}),n&&s.jsx(a.default,{className:"absolute ml-4 mt-auto mb-auto left-0 right-0 top-0 bottom-0",src:n,alt:"Icon"})]})},24299:(e,t,r)=>{"use strict";function s(e,t){return e?.map(e=>t?e?.title:e?.name)}function a(e,t,r){return e?.filter(e=>e[t]===r)?.map(e=>e.id)}r.d(t,{m:()=>a,z:()=>s})},16788:(e,t,r)=>{"use strict";r.d(t,{r:()=>a});var s=r(25842);let a=()=>{let e=(0,s.v9)(e=>e?.ChannelClusterReducer.channelCluster),t=(0,s.v9)(e=>e?.ActivityReducer.activities);return{dispatch:(0,s.I0)(),channelClusters:e,activities:t}}},54365:(e,t)=>{"use strict";function r(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},49519:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(19510),a=r(93584),n=r(68570);let i=(0,n.createProxy)(String.raw`/home/ezekiel-kaeyros/githubci/swi/frontend/src/app/common/components/forms/add-point-of-sales-form/AddPointOfSalesForm.tsx`),{__esModule:o,$$typeof:l}=i;i.default;let d=(0,n.createProxy)(String.raw`/home/ezekiel-kaeyros/githubci/swi/frontend/src/app/common/components/forms/add-point-of-sales-form/AddPointOfSalesForm.tsx#default`);var c=r(33692);function u({}){return s.jsx("div",{className:"h-full pr-8 py-8 2xl:w-11/12 mx-auto",children:(0,s.jsxs)(a.Z,{children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{children:s.jsx(c.Z,{href:"point-of-sales"})}),s.jsx("h1",{className:"ml-16 font-bold",children:"Create Point of sales"})]}),s.jsx("div",{className:"my-16",children:s.jsx(d,{})})]})})}},88166:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s={src:"/_next/static/media/userIcon.f4138008.svg",height:24,width:24,blurWidth:0,blurHeight:0}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[377,471,231,86,723,380,343,126,727],()=>r(82217));module.exports=s})();