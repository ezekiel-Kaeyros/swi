"use strict";exports.id=249,exports.ids=[249],exports.modules={70308:(e,t,s)=>{s.d(t,{z:()=>o});var l=s(10326),r=s(28671);s(17577);var i=s(90434),a=s(46226),n=s(73765),c=s(68703);let d=(0,r.j)("w-full  text-white font-medium py-4 flex justify-center px-4  rounded-full focus:outline-none focus:shadow-outline",{variants:{variant:{default:"bg-buttonPrimary  text-white hover:opacity-90",primary:"bg-indigo-700 hover:bg-indigo-900",secondary:"bg-[#EEF3FB] hover:opacity-90 text-[#2C353A]",danger:"bg-red-500 w-full text-white hover:bg-red-600",outline:"bg-white w-full text-gray-700 border border-slate-300 hover:bg-greenpale hover:text-white hover:border-greenpale",disabled:"bg-buttonPrimary opacity-50 w-full text-white"}},defaultVariants:{variant:"default"}}),o=({variant:e,className:t,href:s,icon:r,children:o,...h})=>s?l.jsx(c.default,{children:r?(0,l.jsxs)(i.default,{href:s,className:(0,n.cn)(d({variant:e,className:t})),children:[l.jsx("span",{className:"mr-2",children:r?l.jsx(a.default,{src:r,alt:"Icon"}):""}),o]}):l.jsx(i.default,{href:s,className:(0,n.cn)(d({variant:e,className:t})),children:o})}):l.jsx(c.default,{children:l.jsx("button",{...h,className:(0,n.cn)(d({variant:e,className:t})),children:(0,l.jsxs)("div",{className:"flex items-center justify-center whitespace-nowrap font-medium text-[13px]",children:[l.jsx("span",{className:"mr-2",children:r?l.jsx(a.default,{width:15,src:r,alt:"Icon"}):""}),l.jsx("div",{className:"mt-[.2rem] font-bold font-articulat",children:o})]})})})},49861:(e,t,s)=>{s.d(t,{Z:()=>j});var l=s(10326),r=s(22080),i=s(13334),a=s(469),n=s(86526),c=s(2238),d=s(35047),o=s(46226);s(17577);var h=s(20572),x=s(64830),m=s(31927),u=s(70308),f=s(2061),p=s(76054);let g=({shopDetails:e})=>{let{selectedRouteId:t,dispatch:s}=(0,f.W)(),r=()=>{s((0,p.l9)({routeId:t,posId:e?.id}))};return l.jsx("div",{children:(0,l.jsxs)("div",{className:"bg-white max-w-[20rem] text-[#2C353A] p-4 rounded-xl",children:[l.jsx(o.default,{className:"rounded-xl w-full h-16 object-cover",src:m.Z,alt:"Image of the shop"}),(0,l.jsxs)("div",{className:"w-full mt-2",children:[l.jsx("h1",{className:"font-bold",children:e?.name}),l.jsx("h3",{className:"opacity-80 text-sm pr-4 pb-2",children:e?.shopLocation}),(0,l.jsxs)("div",{className:"flex items-center   gap-2 w-full justify-start flex-wrap",children:[(0,l.jsxs)("div",{className:"flex items-center pr-2 h-8 bg-[#CCEAF7] px-3 py-1 rounded-full",children:[l.jsx(o.default,{src:h.Z,alt:"Contact icon"}),(0,l.jsxs)("h1",{className:"text-sm ml-1.5",children:[e?.contact," "]})]}),(0,l.jsxs)("div",{className:"flex items-center pr-2 h-8 bg-[#CCEAF7] px-3 py-1 rounded-full",children:[l.jsx(o.default,{src:x.Z,alt:"User icon"}),(0,l.jsxs)("h1",{className:"text-sm ml-1.5",children:[e?.shopOwner," "]})]})]}),l.jsx("h1",{className:"font-bold my-2",children:"Tasks"}),l.jsx("ul",{className:"flex space-x-4 flex-wrap",children:e?.tasks?.map(e=>l.jsx("li",{className:"px-2 py-1 rounded-full  text-sm bg-[#CCEAF7]",children:e?.name},e?.id))}),l.jsx("div",{className:"mt-8 mb-2",children:e?.tasks?.length!==0&&l.jsx(u.z,{onClick:()=>r(),className:"w-fit py-1",children:"Add to route"})})]})]})})};function j(){let{pointOfSales:e,dispatch:t}=(0,a.H)(),{selectedRouteId:s,routes:o}=(0,f.W)();o?.find(e=>e?.id.toString()===s?.toString()),console.log("List of point of sales in state",e);let h=(0,d.usePathname)();return console.log("path",h),l.jsx(r.D5,{center:{lat:3.8852761566538545,lng:11.502079803888337},zoom:15,mapId:"6fc7264e643ee8b1",onClick:e=>{let{latLng:s}=e.detail;console.log("Map got clicked"),console.log("event",e),console.log("Coordinates clicked",s.lat,s.lng),t((0,c.eH)({latitude:s.lat,longitude:s.lng}))},children:e?.map(e=>(console.log("position of poss",e.position),l.jsx(i.Z,{position:e.position,active:!0,markerColor:e.markerColor,children:/\/(\d+)$/.test(h)?l.jsx(g,{shopDetails:e}):l.jsx(n.Z,{shopDetails:e})},e.id)))})}},1645:(e,t,s)=>{s.d(t,{Z:()=>Z});var l=s(10326),r=s(17577),i=s(46226),a=s(72969),n=s(49397),c=s(58185),d=s(36728),o=s(87206);let h={src:"/_next/static/media/menuIcon.d35d0dcb.svg",height:24,width:25,blurWidth:0,blurHeight:0};var x=s(2061),m=s(76054);let u=({id:e})=>{let{dispatch:t,selectedRouteId:s}=(0,x.W)();return(0,l.jsxs)(n.j,{placement:"right-start",offset:10,children:[l.jsx(c.b,{className:"flex items-center",children:l.jsx(d.A,{isIconOnly:!0,size:"md",startContent:l.jsx(i.default,{className:"w-10",src:h,alt:"Menu icon"}),className:"rounded-full py-1 bg-transparent w-fit"})}),l.jsx(o.g,{className:"max-w-sm bg-cardDark",children:()=>l.jsx("div",{className:"px-1 py-2 w-full",children:l.jsx("div",{className:"mt-2 flex flex-wrap gap-2 w-full",children:(0,l.jsxs)("ul",{className:"space-y-2",children:[l.jsx("li",{className:"cursor-pointer",children:"View"}),l.jsx("li",{className:"cursor-pointer",onClick:()=>t((0,m.km)({routeId:s,posId:e})),children:"Remove"})]})})})})]})},f=({icon:e,stat:t,color:s})=>(0,l.jsxs)("div",{style:{backgroundColor:s||"#2D383C"},className:"px-3 mr-2 mt-2 h-8 py-1  rounded-full flex items-center",children:[l.jsx(i.default,{src:e,alt:"Stat icon"})," ",l.jsx("div",{className:"ml-2 text-sm",children:t})]}),p={src:"/_next/static/media/categoryIcon.4f63c500.svg",height:16,width:16,blurWidth:0,blurHeight:0};var g=s(20572),j=s(64830),v=s(56041);let b={src:"/_next/static/media/TasksIcon.5d98fabb.svg",height:24,width:24,blurWidth:0,blurHeight:0};var w=s(28671);let N={src:"/_next/static/media/checkedIcon.c694b0b7.svg",height:24,width:24,blurWidth:0,blurHeight:0};var y=s(73765),C=s(16788);let S=(0,w.j)("w-fit cursor-pointer text-sm rounded-full text-white font-medium py-2 flex items-center justify-center px-3 border",{variants:{variant:{active:"bg-buttonPrimary  text-white hover:opacity-90",inactive:"dark:border-white dark:text-white hover:opacity-90"}},defaultVariants:{variant:"inactive"}}),k=({title:e,variant:t,chipId:s,className:a,duration:n,posId:c,handleSelected:d})=>{let{routes:o,selectedRouteId:h}=(0,x.W)(),{channelClusters:m}=(0,C.r)(),[u,f]=(0,r.useState)(!1),[p,g]=(0,r.useState)([]),j=o?.find(e=>e?.id===h),v=j?.pointOfSales?.find(e=>e?.id.toString()===c?.toString());return(0,r.useEffect)(()=>{var t;g((t=v?.tasks,t?.map(e=>e.name))),p?.includes(e)?f(!1):f(!0)},[o,p,h,e]),(0,l.jsxs)("div",{onClick:()=>{f(!0),d(s)},className:` ${!u&&"bg-buttonPrimary"} ${(0,y.cn)(S({variant:t,className:a}))}`,children:[!u&&l.jsx(i.default,{src:N,alt:"Checked icon"}),(0,l.jsxs)("h1",{className:"ml-2 flex items-center",children:[e," ",(0,l.jsxs)("div",{className:"py-1 px-2 rounded-full ml-1 text-sm",style:{backgroundColor:`${(e=>{let t=m?.find(t=>t?.id===e);return t?.color?.hex})(v?.channelCluster)}`},children:[n,"min"]})]})]})},I=({posId:e})=>{let{dispatch:t,routes:s,selectedRouteId:r}=(0,x.W)(),{activities:a}=(0,C.r)(),h=s=>{let l=a?.find(e=>e?.id.toString()===s.toString());t((0,m.ML)({posId:e,routeId:r,currentActivity:l,ActivityId:l?.id}))},u=s?.find(e=>e?.id===r),f=u?.pointOfSales?.find(t=>t?.id.toString()===e?.toString()),p=f?.tasks?.length,g=a?.filter(e=>e?.channelCluster.toString()===f?.channelCluster.toString()&&e?.tradeChannel.toString()===f?.tradeChannel.toString()&&e?.category.toString()===f?.category.toString());return(0,l.jsxs)(n.j,{placement:"right-start",offset:10,children:[l.jsx(c.b,{className:"flex items-center",children:l.jsx(d.A,{startContent:l.jsx(i.default,{src:b,alt:"Task icon"}),className:`${p>0?"bg-buttonPrimary":"bg-transparent border-dashed "} rounded-full py-4 px-8 w-fit border`,children:p>=1?(0,l.jsxs)("div",{className:"flex items-center",children:[p," ",l.jsx("div",{className:"ml-2",children:`Activit${p>1?"ies":"y"}`})]}):"Add activities"})}),l.jsx(o.g,{className:"max-w-sm bg-cardDark",children:t=>(0,l.jsxs)("div",{className:"px-1 py-2 w-full",children:[l.jsx("p",{className:"text-small mb-4 font-bold text-foreground",...t,children:"Select activities"}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-2 w-full",children:g&&g?.map(t=>l.jsx(k,{duration:t?.duration,posId:parseInt(`${e}`),handleSelected:e=>h(e),chipId:parseInt(`${t?.id}`),title:t?.name},t?.id))})]})})]})},O=({color:e})=>(0,l.jsxs)("svg",{width:"25",height:"25",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{opacity:"0.4",d:"M9.9999 18.3333C13.9902 18.3333 17.2249 15.0986 17.2249 11.1083C17.2249 7.11804 13.9902 3.8833 9.9999 3.8833C6.00965 3.8833 2.7749 7.11804 2.7749 11.1083C2.7749 15.0986 6.00965 18.3333 9.9999 18.3333Z",fill:`${e&&e||"white"}`}),l.jsx("path",{d:"M10 11.4582C9.65833 11.4582 9.375 11.1748 9.375 10.8332V6.6665C9.375 6.32484 9.65833 6.0415 10 6.0415C10.3417 6.0415 10.625 6.32484 10.625 6.6665V10.8332C10.625 11.1748 10.3417 11.4582 10 11.4582Z",fill:`${e&&e||"white"}`}),l.jsx("path",{d:"M12.4084 2.87484H7.5917C7.25837 2.87484 6.9917 2.60817 6.9917 2.27484C6.9917 1.9415 7.25837 1.6665 7.5917 1.6665H12.4084C12.7417 1.6665 13.0084 1.93317 13.0084 2.2665C13.0084 2.59984 12.7417 2.87484 12.4084 2.87484Z",fill:`${e&&e||"white"}`})]});var A=s(79190);let Z=({id:e,shopName:t,shopLocation:s,shopOwner:r,contact:n,firstStat:c,secondStat:d,channelCluster:o,tradeChannel:h,totalActivitiesDuration:m,category:b,isRoutePlanning:w,handleSelected:N})=>{var y;let{channelClusters:S}=(0,C.r)(),{selectedRouteId:k,routes:Z}=(0,x.W)(),$=Z?.find(e=>e?.id?.toString()===k?.toString()),W=$?.pointOfSales?.find(t=>t?.id.toString()===e.toString()),H=e=>{let t=S?.find(t=>t?.id===e);return t?.color?.hex},M=(y=W?.tasks,y?.reduce((e,t)=>e+t.duration,0));return(0,l.jsxs)("div",{onClick:()=>N&&N(e),className:"dark:bg-cardDark rounded-xl w-full p-6 hover:opacity-90  overflow-y-hide",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[w&&l.jsx(i.default,{src:v.Z,className:"mr-2",alt:"Menu icon"}),l.jsx("div",{className:"flex items-center justify-center rounded-lg p-2",style:{backgroundColor:H(o)},children:l.jsx(i.default,{src:a.Z,alt:"Shop icon"})}),(0,l.jsxs)("div",{className:"mx-4",children:[l.jsx("h1",{className:"font-bold text-xl",children:t}),l.jsx("h3",{className:" mt-1 opacity-60",children:s})]})]}),w&&l.jsx("div",{className:"ml-4",children:l.jsx(u,{id:e})})]}),(0,l.jsxs)("div",{className:"flex  justify-between mt-4  items-center",children:[w&&(0,l.jsxs)("div",{className:"flex space-x-4 justify-start items-center flex-wrap max-w-sm ",children:[l.jsx(O,{color:H(o)})," ",l.jsx("h1",{children:M?(0,A.Os)(M):(0,A.Os)(0)})]}),l.jsx("div",{className:"",children:w&&l.jsx(I,{posId:parseInt(`${e}`)})})]}),(0,l.jsxs)("div",{className:"flex justify-between mt-4 ",children:[l.jsx(f,{color:H(o),icon:p,stat:b}),l.jsx(f,{icon:g.Z,stat:n}),l.jsx(f,{icon:j.Z,stat:r})]})]})}},79190:(e,t,s)=>{function l(e){if(isNaN(e)||e<0)return"Invalid input";let t=Math.floor(e/60)?.toString().padStart(2,"0"),s=(e%60)?.toString()?.padStart(2,"0");return`${t}h:${s}min`}function r(e){return e?.reduce((e,t)=>e+t?.pointOfSales?.reduce((e,t)=>e+(t?.tasks||[]).reduce((e,t)=>e+(t.duration||0),0),0),0)}function i(e){return e?.reduce((e,t)=>l(e+t?.pointOfSales?.reduce((e,t)=>e+(t?.tasks||[]).reduce((e,t)=>e+(t.duration||0),0),0)),0)}s.d(t,{Os:()=>l,k:()=>r,ks:()=>i})},82286:(e,t,s)=>{s.d(t,{Z:()=>c});var l=s(10326),r=s(84668);s(17577);var i=s(49665),a=s(2061),n=s(76054);let c=({handleOnFocus:e,handleOnHover:t,handleOnSearch:s})=>{let{dispatch:c,routes:d,selectedRouteId:o}=(0,a.W)();return l.jsx(i.ReactSearchAutocomplete,{items:r.h,onSearch:s,onHover:t,showItemsOnFocus:!1,onSelect:e=>{c((0,n.l9)({routeId:o,posId:e?.id}))},onFocus:e,inputSearchString:"",placeholder:"Search POS by name",formatResult:e=>l.jsx(l.Fragment,{children:(0,l.jsxs)("span",{style:{display:"flex",cursor:"pointer",alignItems:"center",textAlign:"left"},children:[e?.name," - ",e?.shopLocation," - ",e?.shopOwner]})}),styling:{height:"50px",border:"1px solid #414C50",zIndex:20,boxShadow:"rgba(32, 33, 36, 0) 0px 1px 6px 0px",hoverBackgroundColor:"#414C50",backgroundColor:"#414C50",color:"white",fontSize:"16px",fontFamily:"",iconColor:"white",lineColor:"rgb(232, 234, 237)",placeholderColor:"grey",clearIconMargin:"3px 14px 0 0",searchIconMargin:"0 0 0 .4rem"}})}},469:(e,t,s)=>{s.d(t,{H:()=>r});var l=s(25842);let r=()=>({pointOfSales:(0,l.v9)(e=>e?.pointOfSaleViewReducer.pointOfSales),dispatch:(0,l.I0)()})},16788:(e,t,s)=>{s.d(t,{r:()=>r});var l=s(25842);let r=()=>{let e=(0,l.v9)(e=>e?.ChannelClusterReducer.channelCluster),t=(0,l.v9)(e=>e?.ActivityReducer.activities);return{dispatch:(0,l.I0)(),channelClusters:e,activities:t}}},73765:(e,t,s)=>{s.d(t,{cn:()=>i});var l=s(41135),r=s(43249);function i(...e){return(0,r.m)((0,l.W)(e))}}};