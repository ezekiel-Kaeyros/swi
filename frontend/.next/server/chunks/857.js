exports.id=857,exports.ids=[857],exports.modules={78455:(e,t,s)=>{Promise.resolve().then(s.bind(s,69455))},69455:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var l=s(10326),r=s(2061),a=s(49861),i=s(90355);s(17577);var d=s(22080),n=s(89122),c=s(13334),o=s(86526);let u=()=>{let{dispatch:e,routes:t,selectedRouteId:s}=(0,r.W)(),a=t.find(e=>e?.id===1);return console.log("CURRENT ROUTE",a),(0,l.jsxs)(d.D5,{center:{lat:61.2176,lng:-149.8997},zoom:18,mapId:process.env.NEXT_PUBLIC_MAP_ID,children:[l.jsx(n.Z,{color:"blue"}),a?.pointOfSales.map(e=>l.jsx(c.Z,{position:e.position,active:!0,markerColor:"red",children:l.jsx(o.Z,{shopDetails:e})},e.id))]})};function h({children:e}){let{toggleMapsValue:t,showAllRoutes:s,dispatch:d}=(0,r.W)();return(0,l.jsxs)("main",{className:"flex flex-col lg:flex-row",children:[l.jsx("div",{className:"w-8/12 overflow-y-scroll h-screen",children:e}),l.jsx("div",{className:"w-full",children:s?l.jsx(i.default,{}):t?l.jsx(u,{}):l.jsx(a.Z,{})})]})}s(76054)},8639:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var l=s(10326);s(17577);var r=s(50789),a=s(68703),i=s(90434),d=s(46226);let n=({href:e})=>l.jsx(a.default,{children:(0,l.jsxs)(i.default,{className:"items-center w-fit rounded-md py-2 px-3 dark:bg-cardDark flex  hover:dark:opacity-80",href:`/${e}`,children:[l.jsx(d.default,{src:r.default,alt:"Left icon"}),l.jsx("div",{className:"ml-2",children:"Back"})]})})},8576:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var l=s(10326),r=s(46226);s(17577);let a=({register:e,title:t,name:s,icon:a,placeholder:i,type:d})=>(0,l.jsxs)("div",{className:"relative w-full py-4",children:[t&&l.jsx("label",{className:"font-medium block mb-0 mt-4 text-gray-700",htmlFor:s,children:t}),l.jsx("input",{className:"appearance-none relative border rounded-xl w-full py-4 px-12 leading-tight border-gray-300 bg-transparent focus:outline-none focus:border-buttonPrimary focus:dark:bg-cardDark dark:text-white pr-16",id:s,type:d||"text",placeholder:i,autoComplete:"off",autoFocus:!0,...e}),a&&l.jsx(r.default,{className:"absolute ml-4 mt-auto mb-auto left-0 right-0 top-0 bottom-0",src:a,alt:"Icon"})]})},90355:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var l=s(10326);s(17577);var r=s(22080),a=s(89122),i=s(13334),d=s(2061),n=s(469);let c=(()=>{let e=new Set;return()=>{let t="#";do for(let e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];while(e.has(t));return e.add(t),16777216===e.size&&e.clear(),t}})();var o=s(86526);let u=()=>{let{dispatch:e,routes:t,selectedRouteId:s}=(0,d.W)(),{pointOfSales:u}=(0,n.H)();return console.log("ALL ROUTES",t),(0,l.jsxs)(r.D5,{center:{lat:61.2176,lng:-149.8997},zoom:18,mapId:process.env.NEXT_PUBLIC_MAP_ID,children:[t.map(e=>{let t=c();return l.jsx(a.Z,{route:e,color:t},e.id)}),u.map(e=>l.jsx(i.Z,{position:e.position,active:!0,markerColor:"red",children:l.jsx(o.Z,{shopDetails:e})},e.id))]})}},64092:(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var l=s(10326),r=s(46226),a=s(17577),i=s(73906),d=s(21867);let n={src:"/_next/static/media/warningIcon.dc42e67d.svg",height:24,width:24,blurWidth:0,blurHeight:0};var c=s(36728),o=s(49397),u=s(58185),h=s(87206),x=s(88166);let m={src:"/_next/static/media/searchIcon.bc88879c.svg",height:24,width:24,blurWidth:0,blurHeight:0};var f=s(55406),p=s(71904),g=s(8576),j=s(2061),v=s(76054);let b=()=>{let{routes:e,dispatch:t,selectedRouteId:s}=(0,j.W)(),i=(0,a.useRef)(null),[d,n]=(0,a.useState)(f.r),b=e?.find(e=>e?.id===s),N=b?.salesRepresentative,w=b?.salesRepresentative?.length,y=e=>{t((0,v.YG)({routeId:s,salesRepId:e}))};return console.log("sales rep",N),(0,l.jsxs)(o.j,{triggerType:"dialog",placement:"right-start",offset:10,children:[l.jsx(u.b,{className:"flex items-center",children:l.jsx(c.A,{ref:i,startContent:l.jsx(r.default,{src:x.Z,alt:"User icon"}),className:" bg-buttonPrimary rounded-full py-4  w-fit ",children:w>=1?N&&N[0]:l.jsx(l.Fragment,{children:"Assign Route"})})}),l.jsx(h.g,{className:"max-w-lg bg-bgColorDark",children:e=>(0,l.jsxs)("div",{className:"px-1 py-2 w-full",children:[l.jsx(g.Z,{icon:m,type:"text",name:"search",placeholder:"Search a user"}),(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"font-bold my-4",children:"Sales Agents"}),l.jsx("div",{className:" grid grid-cols-2 gap-4",children:d?.map(e=>l.jsx(p.Z,{email:e?.email,id:e?.id,name:e?.name,image:"",handleSelect:()=>y(e?.id)},e?.id))}),l.jsx("div",{className:"relative",children:l.jsx(c.A,{onClick:()=>i.current?.click(),className:"bg-buttonPrimary mt-4 top-0 rounded-full py-4",children:"Save"})})]})]})})]})};var N=s(82286),w=s(79190);let y=()=>{let{routes:e,selectedRouteId:t,travelTime:s}=(0,j.W)(),a=e?.filter(e=>e?.id===t),c=(0,w.ks)(a),o=(0,w.k)(a);return(0,l.jsxs)("div",{className:"w-full",children:[l.jsx("div",{className:"mt-6",children:l.jsx(N.Z,{})}),(0,l.jsxs)("div",{className:"w-full flex-col flex mt-6 mb-4 justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("h1",{className:"font-bold underline",children:a&&a?.length!==0&&a[0]?.routeName?.slice(0,8)}),l.jsx(r.default,{className:"ml-4",src:i.Z,alt:"Edit icon"})," "]}),(0,l.jsxs)("div",{className:"flex mt-6 justify-between w-full items-center space-x-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[l.jsx(r.default,{className:"w-10",src:d.Z,alt:"Total time"}),l.jsx("h1",{className:"font-bold text-xl",children:c}),o>s&&(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx(r.default,{src:n,alt:"Warning icon"}),l.jsx("h1",{className:"text-xs text-red-400 ml-4",children:"Working time exceeded"})]})]}),l.jsx("div",{children:l.jsx(b,{})})]})]})]})}},17466:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var l=s(10326),r=s(17577),a=s(52172),i=s(1645),d=s(16788);let n=({item:e,provided:t,snapshot:s})=>{let{channelClusters:r}=(0,d.r)();return(0,l.jsxs)("div",{className:"my-4 ",ref:t.innerRef,snapshot:s,...t.draggableProps,...t.dragHandleProps,children:[l.jsx(i.Z,{category:`${(e=>{let t=r?.find(t=>t?.id.toString()===e?.toString());return t?.name})(e?.channelCluster)}`,channelCluster:e?.id,totalActivitiesDuration:e?.totalActivitiesDuration,tradeChannel:e?.tradeChannel,isRoutePlanning:!0,id:`${e?.id}`,shopName:e?.name,shopOwner:e?.shopOwner,contact:`${e?.contact}`,shopLocation:e?.shopLocation,firstStat:`${e?.firstStat}`,secondStat:`${e?.secondStat}`}),t?.placeholder]})};var c=s(2061),o=s(76054),u=s(70308);let h=()=>{let{routes:e,toggleMapsValue:t,dispatch:s,selectedRouteId:i}=(0,c.W)(),[d,h]=(0,r.useState)([]),[x,m]=(0,r.useState)(!1),f=()=>{s((0,o.EU)({toggle:!t}))};console.log("selected id",i);let p=e?.find(e=>e?.id===i);(0,r.useEffect)(()=>{},[i,p,d,e]);let g=new Date;return(0,l.jsxs)(a.Z5,{onDragEnd:e=>{let t=Array.from(d),[l]=t.splice(e.source.index,1);t.splice(e.destination.index,0,l),s((0,o.AA)({routeId:i,newOrder:t})),h(t)},children:[x?l.jsx(a.bK,{droppableId:`droppable-${g}`,children:(e,t)=>l.jsx("div",{...e.droppableProps,ref:e.innerRef,children:d?.map((e,t)=>l.jsx(a._l,{draggableId:`${e.id}`,index:t,children:(t,s)=>l.jsx(n,{provided:t,snapshot:s,item:e})},e.id))})}):null,l.jsx("div",{className:"ml-auto w-full py-8",children:l.jsx(u.z,{variant:p?.pointOfSales?.length<2?"disabled":"default",disabled:p?.pointOfSales?.length<2,onClick:()=>f(),className:"w-full py-4",children:t?"Edit route":"Save route"})})]})}},71904:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var l=s(10326),r=s(46226),a=s(17577),i=s(2061);let d=({email:e,handleSelect:t,id:s,image:d,name:n})=>{let{routes:c,selectedRouteId:o}=(0,i.W)(),[u,h]=(0,a.useState)(!1),[x,m]=(0,a.useState)([]);return(0,a.useEffect)(()=>{let e=c?.find(e=>e?.id===o),t=e?.salesRepresentative;m(t),t?.includes(n)?h(!1):h(!0)},[c,x,n]),l.jsx("div",{onClick:()=>{t&&t(s),h(e=>!e)},className:`p-4 rounded-xl cursor-pointer ${u?"dark:bg-cardDark":"bg-buttonPrimary"} `,children:(0,l.jsxs)("div",{className:"flex cursor-pointer",children:[d?l.jsx(r.default,{src:d,alt:"User profile"}):l.jsx("div",{className:"w-8 h-8 rounded-full mr-4 bg-slate-600 flex items-center justify-center",children:n?.charAt(0)}),(0,l.jsxs)("div",{className:"",children:[l.jsx("h1",{children:n}),l.jsx("h3",{children:e})]})]})})}},4516:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>d});var l=s(68570);let r=(0,l.createProxy)(String.raw`/home/ezekiel-kaeyros/githubci/swi/frontend/src/app/[lang]/(pages)/route-preparation/layout.tsx`),{__esModule:a,$$typeof:i}=r;r.default;let d=(0,l.createProxy)(String.raw`/home/ezekiel-kaeyros/githubci/swi/frontend/src/app/[lang]/(pages)/route-preparation/layout.tsx#default`)},50789:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});let l={src:"/_next/static/media/arrowLeftIcon.2cdf6f2d.svg",height:24,width:24,blurWidth:0,blurHeight:0}},73906:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});let l={src:"/_next/static/media/editIcon.0f070e4a.svg",height:25,width:25,blurWidth:0,blurHeight:0}},21867:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});let l={src:"/_next/static/media/timeIcon.eca7d636.svg",height:32,width:32,blurWidth:0,blurHeight:0}},88166:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});let l={src:"/_next/static/media/userIcon.f4138008.svg",height:24,width:24,blurWidth:0,blurHeight:0}}};