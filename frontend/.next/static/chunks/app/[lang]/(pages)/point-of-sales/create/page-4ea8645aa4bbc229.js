(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2624],{61867:function(e,t,a){Promise.resolve().then(a.t.bind(a,38173,23)),Promise.resolve().then(a.t.bind(a,231,23)),Promise.resolve().then(a.bind(a,43301)),Promise.resolve().then(a.bind(a,71726)),Promise.resolve().then(a.bind(a,68770))},71726:function(e,t,a){"use strict";var n=a(57437);a(2265);var r=a(95724);t.default=e=>{let{children:t}=e;return(0,n.jsx)(r.E.div,{className:"cursor-pointer w-full",whileHover:{scale:1},whileTap:{scale:.98},children:t})}},87464:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var n=a(57437),r=a(12218);a(2265);var o=a(87138),l=a(66648),i=a(69548),s=a(71726);let d=(0,r.j)("w-full  text-white font-medium py-4 flex justify-center px-4  rounded-full focus:outline-none focus:shadow-outline",{variants:{variant:{default:"bg-buttonPrimary  text-white hover:opacity-90",primary:"bg-indigo-700 hover:bg-indigo-900",secondary:"bg-[#EEF3FB] hover:opacity-90 text-[#2C353A]",danger:"bg-red-500 w-full text-white hover:bg-red-600",outline:"bg-white w-full text-gray-700 border border-slate-300 hover:bg-greenpale hover:text-white hover:border-greenpale",disabled:"bg-buttonPrimary opacity-50 w-full text-white"}},defaultVariants:{variant:"default"}}),c=e=>{let{variant:t,className:a,href:r,icon:c,children:u,...h}=e;return r?(0,n.jsx)(s.default,{children:c?(0,n.jsxs)(o.default,{href:r,className:(0,i.cn)(d({variant:t,className:a})),children:[(0,n.jsx)("span",{className:"mr-2",children:c?(0,n.jsx)(l.default,{src:c,alt:"Icon"}):""}),u]}):(0,n.jsx)(o.default,{href:r,className:(0,i.cn)(d({variant:t,className:a})),children:u})}):(0,n.jsx)(s.default,{children:(0,n.jsx)("button",{...h,className:(0,i.cn)(d({variant:t,className:a})),children:(0,n.jsxs)("div",{className:"flex items-center justify-center whitespace-nowrap font-medium text-[13px]",children:[(0,n.jsx)("span",{className:"mr-2",children:c?(0,n.jsx)(l.default,{width:15,src:c,alt:"Icon"}):""}),(0,n.jsx)("div",{className:"mt-[.2rem] font-bold font-articulat",children:u})]})})})}},68770:function(e,t,a){"use strict";a.d(t,{default:function(){return w}});var n=a(57437),r=a(2265),o=a(11444),l=a(39343),i=a(96592),s=a(53173),d=a(26214),c=a(72468),u={src:"/_next/static/media/contactIcon.1cadd057.svg",height:24,width:24,blurWidth:0,blurHeight:0},h={src:"/_next/static/media/shopLocationIcon.dd709292.svg",height:24,width:24,blurWidth:0,blurHeight:0},m={src:"/_next/static/media/positionIcon.fe6b4e6e.svg",height:24,width:24,blurWidth:0,blurHeight:0},g=a(87464),p=a(66648),f=e=>{let{name:t,register:a}=e,[o,l]=(0,r.useState)();return(0,n.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,n.jsxs)("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-cardDark hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[(0,n.jsxs)("div",{className:"flex ".concat(o&&"hidden"," flex-col items-center justify-center pt-5 pb-6"),children:[(0,n.jsx)("svg",{className:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:(0,n.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),(0,n.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Click to upload an Image"})," or drag and drop"]}),(0,n.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG (MAX. 800x400px)"})]}),o&&(0,n.jsxs)("div",{className:"h-full w-full relative",children:[(0,n.jsx)("div",{onClick:()=>l(null),className:"absolute -top-4 -right-4 h-8 w-8 flex items-center justify-center rounded-full bg-red-700 p-1",children:"x"}),(0,n.jsx)(p.default,{width:200,className:"w-full h-full object-cover",height:200,src:o,alt:"File uploaded"})]}),(0,n.jsx)("input",{...a,disabled:!!o,name:t,id:"dropzone-file",type:"file",className:"hidden",onChange:function(e){console.log(e.target.files),l(URL.createObjectURL(e.target.files[0]))}})]})})},v=a(66486),x=a(89503),C=a(71726),b=a(29649),y=a(51224),j=a(6355),w=()=>{var e,t;let[a,w]=(0,r.useState)(!1),S=(0,o.I0)(),{channelClusters:k}=(0,j.r)();console.log("This is a channel cluster",k);let N=(0,o.v9)(e=>e.pointOfSaleViewReducer.selectedPlace),{register:L,handleSubmit:O,setValue:F,reset:A,watch:P,formState:{errors:D,isValid:M}}=(0,l.cI)({mode:"onChange"}),X=P("channelCluster"),Z=P("tradeChannel"),B=null==k?void 0:k.find(e=>{var t;return(null==e?void 0:null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===(null==X?void 0:X.toString().toLowerCase())});console.log("active Channel Cluster",B);let Y=null==B?void 0:null===(e=B.tradeChannel)||void 0===e?void 0:e.find(e=>{var t,a;return(null==e?void 0:null===(t=e.title)||void 0===t?void 0:t.toLowerCase())===(null==Z?void 0:null===(a=Z.toString())||void 0===a?void 0:a.toLowerCase())});return(0,r.useEffect)(()=>{N&&(null==N?void 0:N.latitude)&&N.longitude&&(N.latitude&&F("position.lat",N.latitude),N.longitude&&F("position.lng",N.longitude))},[N]),(0,n.jsxs)("form",{onSubmit:O(e=>{var t,a,n;console.log("data",e);let r=null==e?void 0:e.channelCluster.toString(),o=null==e?void 0:e.tradeChannel.toString();null==e||null===(t=e.category)||void 0===t||t.toString();let l=null==k?void 0:k.filter(e=>{var t;return(null==e?void 0:null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===(null==X?void 0:X.toString().toLowerCase())});null===(a=l[0].tradeChannel)||void 0===a||a.filter(e=>{var t,a;return(null==e?void 0:null===(t=e.title)||void 0===t?void 0:t.toLowerCase())===(null==o?void 0:null===(a=o.toString())||void 0===a?void 0:a.toLowerCase())});let i=(0,y.m)(k,"name",r);console.log("Channel cluster to be submitted",i);let s={...e,channelCluster:i,markerColor:null===(n=l[0].color)||void 0===n?void 0:n.hex};console.log("new data",s),console.log("Active cluster again",l),S((0,x.Td)({newPointOfSales:{...s,firstStat:"50 000 XAF",secondStat:"5%"}}))}),children:[(0,n.jsx)(i.x7,{position:"top-center",reverseOrder:!1}),(0,n.jsx)("div",{children:(0,n.jsx)(s.Z,{register:L("name",{required:!0,minLength:3}),icon:d.Z,name:"name",placeholder:"Shop Name"})}),(0,n.jsx)("p",{className:"mt-1 text-sm text-red-400",children:(null==D?void 0:D.name)&&(0,n.jsx)(n.Fragment,{children:"A minimum of 3 characters is required"})}),(0,n.jsx)("div",{children:(0,n.jsx)(s.Z,{icon:c.Z,register:L("shopOwner",{required:!0,minLength:3}),name:"shopOwner",placeholder:"Shop Owner"})}),(0,n.jsx)("p",{className:"mt-1 text-sm text-red-400",children:(null==D?void 0:D.shopOwner)&&(0,n.jsx)(n.Fragment,{children:"A minimum of 3 characters is required"})}),(0,n.jsx)("div",{children:(0,n.jsx)(s.Z,{icon:u,name:"contact",type:"number",register:L("contact",{required:!0,pattern:/^6(9|7|6|5|2|8)[0-9]{7}$/}),placeholder:"Contact Details"})}),(0,n.jsx)("p",{className:"mt-1 text-sm text-red-400",children:(null==D?void 0:D.contact)&&(0,n.jsx)(n.Fragment,{children:"contact is not valid"})}),(0,n.jsx)("div",{children:(0,n.jsx)(s.Z,{icon:h,name:"ShopLocation",placeholder:"Shop Location",register:L("shopLocation",{required:!0})})}),(0,n.jsx)(C.default,{children:(0,n.jsxs)("div",{className:"rounded-md flex items-center bg-buttonPrimary px-3 py-2 w-fit text-sm ml-auto",onClick:()=>{S((0,x.j3)({toggle:!0}))},children:[(0,n.jsx)(p.default,{className:"mr-2",src:m,alt:"Location icon"}),"Get location"]})}),(0,n.jsxs)("div",{className:"flex h-fit space-x-5",children:[(0,n.jsx)(s.Z,{icon:m,name:"position.lat",type:"text",placeholder:"Latitude",value:"".concat(N.latitude),register:L("position.lat")}),(0,n.jsx)(s.Z,{icon:m,name:"longitude",type:"text",placeholder:"Longitude",register:L("position.lng")})]}),(0,n.jsxs)("div",{className:"flex h-fit my-4 space-x-5",children:[(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("h1",{children:"Channel cluster"}),(0,n.jsx)(b.Z,{name:"channelCluster",options:(0,y.z)(k),register:L("channelCluster",{required:!0})})]}),X&&(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("h1",{children:"Trade channel"}),(0,n.jsx)(b.Z,{name:"tradeChannel",options:(0,y.z)(null==B?void 0:B.tradeChannel,"title"),register:L("tradeChannel",{required:!0})})]})]}),(0,n.jsx)("div",{children:Z&&(null==Y?void 0:Y.content)&&(null==Y?void 0:null===(t=Y.content)||void 0===t?void 0:t.length)!==0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Category"}),(0,n.jsx)(b.Z,{name:"category",options:(0,y.z)(null==Y?void 0:Y.content,"title"),register:L("category",{required:!0})})]})}),(0,n.jsx)("div",{className:"my-8",children:(0,n.jsx)(f,{register:"",name:"image"})}),(0,n.jsx)("div",{className:"w-full my-8",children:(0,n.jsx)(g.z,{disabled:!!a,variant:!M||a?"disabled":"default",className:"w-full",children:a?(0,n.jsx)(v.c,{size:"sm",color:"white"}):(0,n.jsx)(n.Fragment,{children:"Add Location"})})})]})}},29649:function(e,t,a){"use strict";var n=a(57437);a(2265),t.Z=e=>{let{title:t,options:a,name:r,register:o}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("label",{htmlFor:r,className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:t}),(0,n.jsx)("select",{name:r,...o,id:r,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-buttonPrimary focus:border-buttonPrimary block w-full py-4 px-4 dark:bg-cardDark dark:border-gray-400 dark:placeholder-gray-100 dark:text-white dark:focus:ring-buttonPrimary dark:focus:border-buttonPrimary",children:null==a?void 0:a.map(e=>(0,n.jsx)("option",{value:e,children:e},null==e?void 0:e.id))})]})}},53173:function(e,t,a){"use strict";var n=a(57437),r=a(66648);a(2265),t.Z=e=>{let{register:t,title:a,name:o,icon:l,placeholder:i,type:s}=e;return(0,n.jsxs)("div",{className:"relative w-full py-4",children:[a&&(0,n.jsx)("label",{className:"font-medium block mb-0 mt-4 text-gray-700",htmlFor:o,children:a}),(0,n.jsx)("input",{className:"appearance-none relative border rounded-xl w-full py-4 px-12 leading-tight border-gray-300 bg-transparent focus:outline-none focus:border-buttonPrimary focus:dark:bg-cardDark dark:text-white pr-16",id:o,type:s||"text",placeholder:i,autoComplete:"off",autoFocus:!0,...t}),l&&(0,n.jsx)(r.default,{className:"absolute ml-4 mt-auto mb-auto left-0 right-0 top-0 bottom-0",src:l,alt:"Icon"})]})}},51224:function(e,t,a){"use strict";function n(e,t){return null==e?void 0:e.map(e=>t?null==e?void 0:e.title:null==e?void 0:e.name)}function r(e,t,a){var n;return null==e?void 0:null===(n=e.filter(e=>e[t]===a))||void 0===n?void 0:n.map(e=>e.id)}a.d(t,{m:function(){return r},z:function(){return n}})},6355:function(e,t,a){"use strict";a.d(t,{r:function(){return r}});var n=a(11444);let r=()=>{let e=(0,n.v9)(e=>null==e?void 0:e.ChannelClusterReducer.channelCluster),t=(0,n.v9)(e=>null==e?void 0:e.ActivityReducer.activities);return{dispatch:(0,n.I0)(),channelClusters:e,activities:t}}},89503:function(e,t,a){"use strict";a.d(t,{Td:function(){return c},eH:function(){return d},j3:function(){return s}});var n=a(45383),r=a(738),o=a(14643);let l={pointOfSales:n.h,toggleMap:!1,selectedPlace:{latitude:null,longitude:null}},i=(0,r.oM)({name:"pointOfSaleView",initialState:l,reducers:{toggleMapView:(e,t)=>{e.toggleMap=t.payload.toggle},updateSelectedPlace:(e,t)=>{let{latitude:a,longitude:n}=t.payload;e.selectedPlace.latitude=a,e.selectedPlace.longitude=n},createPointOfSales:(e,t)=>{var a;let{newPointOfSales:n}=null==t?void 0:t.payload,r=(null===(a=e.pointOfSales)||void 0===a?void 0:a.length)+1;e.pointOfSales.push({...n,id:r}),console.log("point sale updated",(0,o.Vk)(e.pointOfSales))}}}),{toggleMapView:s,updateSelectedPlace:d,createPointOfSales:c}=i.actions;t.ZP=i.reducer},45383:function(e,t,a){"use strict";a.d(t,{h:function(){return n}});let n=[{id:1,name:"Santa Lucia",shopLocation:"Bonamoussadi, Douala, Cameroun",shopOwner:"M. Adamou",contact:"690 000 540",firstStat:"50 000 XAF",secondStat:"+4%",channelCluster:1,tradeChannel:1,category:1,city:"Douala",markerColor:"red",position:{lat:4.092504234375929,lng:9.74694573843821}},{id:2,name:"Dovv",shopLocation:"Bonamoussadi, Douala, Cameroun",shopOwner:"M. Jean",contact:"691 040 540",firstStat:"150 000 XAF",secondStat:"+1%",position:{lat:4.092247398846078,lng:9.750153660455327},channelCluster:1,tradeChannel:2,category:1,city:"Douala",markerColor:"red"},{id:3,name:"Rond Point",shopLocation:"Bonamoussadi, Douala, Cameroun",shopOwner:"M. Jean",contact:"681 040 540",firstStat:"105 000 XAF",secondStat:"+20%",channelCluster:2,tradeChannel:1,category:3,city:"Douala",markerColor:"red",position:{lat:4.0858605692570675,lng:9.734873742544274}},{id:4,name:"Friends Food",shopLocation:"Bonamoussadi, Douala, Cameroun",shopOwner:"M. Pierre",contact:"651 040 540",firstStat:"20 000 XAF",secondStat:"+15%",channelCluster:1,tradeChannel:3,category:1,position:{lat:4.092795154942231,lng:9.740431279428542},city:"Douala",markerColor:"red"},{id:5,name:"Dovv",shopLocation:"Bonamoussadi, Douala, Cameroun",shopOwner:"M. Philippe",contact:"661 040 540",firstStat:"200 000 XAF",secondStat:"+5%",channelCluster:1,tradeChannel:2,category:2,position:{lat:4.092247398846078,lng:9.750153660455327},city:"Douala",markerColor:"red"},{id:6,name:"Victory Garden",shopLocation:"Bonamoussadi, Douala, Cameroun",shopOwner:"M. Jean",contact:"671 040 540",firstStat:"15 000 XAF",secondStat:"+2%",channelCluster:4,tradeChannel:1,category:1,position:{lat:4.089113839149167,lng:9.746375054397431},city:"Douala",markerColor:"red"},{id:7,name:"Carrefour Yoro Joss",shopLocation:"Bonamoussadi, Douala, Cameroun",shopOwner:"M. Patrice",contact:"690 040 540",firstStat:"35 000 XAF",secondStat:"+4%",channelCluster:4,tradeChannel:2,category:1,position:{lat:4.097632206938936,lng:9.740860432855897},city:"Douala",markerColor:"red"},{id:8,name:"Commissariat 12eme de bonamoussadi",shopLocation:"Bonamoussadi, Douala, Cameroun",shopOwner:"M. Bernard",contact:"695 040 540",firstStat:"100 000 XAF",secondStat:"+15%",channelCluster:2,tradeChannel:1,category:2,city:"Douala",markerColor:"red",position:{lat:4.099323027950734,lng:9.74163290902514}},{id:9,name:"Boutique JOSS",shopLocation:"Ecole de police, Yaound\xe9, Cameroun",shopOwner:"M. Adamou",contact:"690 000 540",firstStat:"50 000 XAF",secondStat:"+4%",channelCluster:1,tradeChannel:1,category:1,city:"Yaound\xe9",markerColor:"red",position:{lat:3.8789440279811314,lng:11.50974300516794}},{id:10,name:"Carrefour Market",shopLocation:"Warda, Yaound\xe9, Cameroun",shopOwner:"M. Jacques",contact:"696 040 540",firstStat:"150 000 XAF",secondStat:"+1%",position:{lat:3.8767141069274462,lng:11.512965233515592},channelCluster:1,tradeChannel:2,category:1,city:"Douala",markerColor:"red"},{id:11,name:"Alioum Store",shopLocation:"Tsinga, Yaound\xe9, Cameroun",shopOwner:"M. Hamadou",contact:"651 040 540",firstStat:"105 000 XAF",secondStat:"+20%",channelCluster:2,tradeChannel:1,category:3,city:"Yaound\xe9",markerColor:"red",position:{lat:3.8851676805034,lng:11.503557405136277}},{id:12,name:"Friends Food",shopLocation:"Bastos, Yaound\xe9, Cameroun",shopOwner:"M. Kamga",contact:"651 040 540",firstStat:"20 000 XAF",secondStat:"+15%",channelCluster:1,tradeChannel:3,category:1,position:{lat:3.887751066126671,lng:11.50373674168409},city:"Yaound\xe9",markerColor:"red"},{id:13,name:"Dovv",shopLocation:"Bastos, Yaound\xe9, Cameroun",shopOwner:"M. Philippe",contact:"661 040 540",firstStat:"200 000 XAF",secondStat:"+5%",channelCluster:1,tradeChannel:2,category:2,position:{lat:3.8927026231741797,lng:11.510167784894564},city:"Yaound\xe9",markerColor:"red"},{id:14,name:"US Embassy",shopLocation:"Bastos, Yaound\xe9, Cameroun",shopOwner:"American Government",contact:"661 040 540",firstStat:"200 000 XAF",secondStat:"+9%",channelCluster:1,tradeChannel:2,category:2,position:{lat:3.9001262311006943,lng:11.499535353383855},city:"Yaound\xe9",markerColor:"red"},{id:15,name:"Dovv",shopLocation:"Nkomkana, Yaound\xe9, Cameroun",shopOwner:"John Montenala",contact:"661 040 540",firstStat:"200 000 XAF",secondStat:"+9%",channelCluster:1,tradeChannel:2,category:2,position:{lat:3.884153084236937,lng:11.496008114447468},city:"Yaound\xe9",markerColor:"red"}]},69548:function(e,t,a){"use strict";a.d(t,{cn:function(){return o}});var n=a(44839),r=a(21150);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m)((0,n.W)(t))}},43301:function(e,t){"use strict";t.default={src:"/_next/static/media/arrowLeftIcon.2cdf6f2d.svg",height:24,width:24,blurWidth:0,blurHeight:0}},26214:function(e,t){"use strict";t.Z={src:"/_next/static/media/pointOfSale.ee923ce2.svg",height:24,width:24,blurWidth:0,blurHeight:0}},72468:function(e,t){"use strict";t.Z={src:"/_next/static/media/userIcon.f4138008.svg",height:24,width:24,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[6648,1264,231,1444,738,1150,9343,7776,2971,7023,1744],function(){return e(e.s=61867)}),_N_E=e.O()}]);