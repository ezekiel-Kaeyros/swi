(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[448],{24698:function(e,t,n){Promise.resolve().then(n.bind(n,91762))},87138:function(e,t,n){"use strict";n.d(t,{default:function(){return r.a}});var l=n(231),r=n.n(l)},16463:function(e,t,n){"use strict";var l=n(71169);n.o(l,"usePathname")&&n.d(t,{usePathname:function(){return l.usePathname}}),n.o(l,"useRouter")&&n.d(t,{useRouter:function(){return l.useRouter}})},20920:function(e,t,n){"use strict";let l;n.d(t,{Z:function(){return u}});var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i=new Uint8Array(16),s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));var u=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();let u=(e=e||{}).random||(e.rng||function(){if(!l&&!(l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(i)})();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=u[e];return t}return function(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}(u)}},71726:function(e,t,n){"use strict";var l=n(57437);n(2265);var r=n(95724);t.default=e=>{let{children:t}=e;return(0,l.jsx)(r.E.div,{className:"cursor-pointer w-full",whileHover:{scale:1},whileTap:{scale:.98},children:t})}},87464:function(e,t,n){"use strict";n.d(t,{z:function(){return d}});var l=n(57437),r=n(12218);n(2265);var i=n(87138),s=n(66648),u=n(69548),o=n(71726);let a=(0,r.j)("w-full  text-white font-medium py-4 flex justify-center px-4  rounded-full focus:outline-none focus:shadow-outline",{variants:{variant:{default:"bg-buttonPrimary  text-white hover:opacity-90",primary:"bg-indigo-700 hover:bg-indigo-900",secondary:"bg-[#EEF3FB] hover:opacity-90 text-[#2C353A]",danger:"bg-red-500 w-full text-white hover:bg-red-600",outline:"bg-white w-full text-gray-700 border border-slate-300 hover:bg-greenpale hover:text-white hover:border-greenpale",disabled:"bg-buttonPrimary opacity-50 w-full text-white"}},defaultVariants:{variant:"default"}}),d=e=>{let{variant:t,className:n,href:r,icon:d,children:c,...f}=e;return r?(0,l.jsx)(o.default,{children:d?(0,l.jsxs)(i.default,{href:r,className:(0,u.cn)(a({variant:t,className:n})),children:[(0,l.jsx)("span",{className:"mr-2",children:d?(0,l.jsx)(s.default,{src:d,alt:"Icon"}):""}),c]}):(0,l.jsx)(i.default,{href:r,className:(0,u.cn)(a({variant:t,className:n})),children:c})}):(0,l.jsx)(o.default,{children:(0,l.jsx)("button",{...f,className:(0,u.cn)(a({variant:t,className:n})),children:(0,l.jsxs)("div",{className:"flex items-center justify-center whitespace-nowrap font-medium text-[13px]",children:[(0,l.jsx)("span",{className:"mr-2",children:d?(0,l.jsx)(s.default,{width:15,src:d,alt:"Icon"}):""}),(0,l.jsx)("div",{className:"mt-[.2rem] font-bold font-articulat",children:c})]})})})}},95638:function(e,t,n){"use strict";function l(e){var t;if(isNaN(e)||e<0)return"Invalid input";let n=Math.floor(e/60),l=e%60,r=null==n?void 0:n.toString().padStart(2,"0"),i=null==l?void 0:null===(t=l.toString())||void 0===t?void 0:t.padStart(2,"0");return"".concat(r,"h:").concat(i,"min")}function r(e){return null==e?void 0:e.reduce((e,t)=>{var n;return e+(null==t?void 0:null===(n=t.pointOfSales)||void 0===n?void 0:n.reduce((e,t)=>e+((null==t?void 0:t.tasks)||[]).reduce((e,t)=>e+(t.duration||0),0),0))},0)}function i(e){return null==e?void 0:e.reduce((e,t)=>{var n;return l(e+(null==t?void 0:null===(n=t.pointOfSales)||void 0===n?void 0:n.reduce((e,t)=>e+((null==t?void 0:t.tasks)||[]).reduce((e,t)=>e+(t.duration||0),0),0)))},0)}n.d(t,{Os:function(){return l},k:function(){return r},ks:function(){return i}})},2929:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});var l=n(11444);let r=()=>{let e=(0,l.v9)(e=>e.RoutePlanningReducer.routes),t=(0,l.v9)(e=>null==e?void 0:e.RoutePlanningReducer.searchedSalesAgent),n=(0,l.v9)(e=>null==e?void 0:e.RoutePlanningReducer.searchedSalesPointValue),r=(0,l.v9)(e=>null==e?void 0:e.RoutePlanningReducer.selectedRouteId),i=(0,l.v9)(e=>null==e?void 0:e.RoutePlanningReducer.travelTime),s=(0,l.v9)(e=>null==e?void 0:e.RoutePlanningReducer.toggleMaps),u=(0,l.v9)(e=>null==e?void 0:e.RoutePlanningReducer.showAllRoutes);return{routes:e,dispatch:(0,l.I0)(),searchedPointOfSales:n,searchedSalesAgent:t,travelTime:i,selectedRouteId:r,toggleMapsValue:s,showAllRoutes:u}}},91762:function(e,t,n){"use strict";n.d(t,{default:function(){return w}});var l=n(57437),r=n(2265),i=n(66648),s=n(87464),u={src:"/_next/static/media/routeIcon.b5c3c749.svg",height:32,width:33,blurWidth:0,blurHeight:0},o=n(2929),a=n(76077),d=n(16463),c=()=>{let{dispatch:e}=(0,o.W)(),{push:t}=(0,d.useRouter)(),n=()=>{e((0,a.ot)({})),e((0,a.AB)({showAllRoutes:!1})),t("/route-preparation/create")};return(0,l.jsxs)("div",{className:"border flex flex-col items-center justify-center p-4 border-dashed rounded-xl",children:[(0,l.jsx)(i.default,{src:u,alt:"Routing image"}),(0,l.jsx)("h1",{className:"my-4",children:"No Active Route"}),(0,l.jsx)(s.z,{onClick:()=>n(),className:"w-fit mx-auto",children:"Create Route"})]})},f={src:"/_next/static/media/eyeIcon.77dfaef2.svg",height:24,width:24,blurWidth:0,blurHeight:0},h=n(26214),v=n(89289),m={src:"/_next/static/media/eyeClosedIcon.55627616.svg",height:24,width:24,blurWidth:0,blurHeight:0},x={src:"/_next/static/media/rightIcon.7c333bf8.svg",height:24,width:24,blurWidth:0,blurHeight:0},g=n(71726),p=n(95638),b=e=>{var t;let{id:n,numberOfPos:s,routeName:u,salesName:c,activitiesDuration:b,profilePicture:j}=e,[w,y]=(0,r.useState)(!1),{dispatch:N,routes:R}=(0,o.W)(),{push:k}=(0,d.useRouter)();(0,r.useEffect)(()=>{N((0,a.e2)({selectedRouteId:n}))},[N,n]);let S=e=>{y(e=>!e)},I=e=>{N((0,a.AB)({showAllRoutes:!1})),N((0,a.EU)({toggle:!0})),k("/route-preparation/".concat(e))},A=null==R?void 0:R.filter(e=>(null==e?void 0:e.id.toString())===(null==n?void 0:n.toString())),P=(0,p.ks)(A);return console.log("salesName",c),(0,l.jsxs)("div",{className:"bg-cardDark  justify-between w-full  rounded-xl p-4",children:[(0,l.jsx)("div",{className:"flex items-center w-full",children:(0,l.jsxs)("div",{className:"flex justify-between w-full",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"mb-2",children:u&&u}),(0,l.jsx)("div",{children:j?(0,l.jsx)(i.default,{src:j,alt:"Sales rep profile picture"}):c&&(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-7 h-7 flex items-center justify-center bg-slate-400 rounded-full",children:c&&(null==c?void 0:c.length)!==0&&(null===(t=c[0])||void 0===t?void 0:t.charAt(0))}),(0,l.jsx)("h1",{className:" text-sm ml-2 text-slate-300",children:c&&(null==c?void 0:c.length)!==0&&c[0]||"No sales rep assigned"})]})})]}),(0,l.jsxs)("div",{className:"bg-bgColorDark rounded-full flex items-center w-fit py-2 h-fit px-3",children:[(0,l.jsx)(i.default,{src:h.Z,alt:"Shop icon"}),(0,l.jsx)("h1",{className:"text-sm ml-1",children:s?"".concat(s," Shop").concat(parseInt(s)>=1&&"s"):""})]})]})}),(0,l.jsxs)("div",{className:"flex mt-6 items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(i.default,{src:v.Z,alt:"Timer icon"}),(0,l.jsx)("h1",{className:"font-bold ml-1",children:P})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(g.default,{children:(0,l.jsx)("div",{onClick:()=>S(n),className:" bg-bgColorDark w-10 h-10 flex items-center justify-center p-1 rounded-full",children:(0,l.jsx)(i.default,{className:"w-8",src:w?m:f,alt:"Show and hide route"})})}),(0,l.jsx)(g.default,{children:(0,l.jsx)("div",{onClick:()=>I(n),className:" bg-bgColorDark flex justify-center items-center w-10 h-10  p-1 rounded-full ml-2",children:(0,l.jsx)(i.default,{className:"w-8",src:x,alt:"Show and hide route"})})})]})]})]})},j={src:"/_next/static/media/addRouteIcon.6aaa563a.svg",height:24,width:25,blurWidth:0,blurHeight:0},w=()=>{let{routes:e,dispatch:t}=(0,o.W)(),{push:n}=(0,d.useRouter)(),r=()=>{t((0,a.ot)({})),t((0,a.AB)({showAllRoutes:!1})),t((0,a.EU)({toggle:!1})),n("/route-preparation/create")};return(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"font-bold text-2xl mb-8",children:"Route planning"}),(null==e?void 0:e.length)!==0&&(0,l.jsx)(s.z,{icon:j,onClick:()=>r(),className:"mb-8  w-full py-3 ml-auto",children:"Add new route"}),(0,l.jsx)("div",{className:"space-y-6 flex flex-col",children:(null==e?void 0:e.length)!==0?null==e?void 0:e.map(e=>{var n;return(0,l.jsx)("div",{onClick:()=>{t((0,a.e2)({selectedRouteId:null==e?void 0:e.id}))},children:(0,l.jsx)(b,{activitiesDuration:null==e?void 0:e.activitiesDuration,id:null==e?void 0:e.id,numberOfPos:null==e?void 0:null===(n=e.pointOfSales)||void 0===n?void 0:n.length,numberOfTasksCompleted:"",profilePicture:"",routeName:null==e?void 0:e.routeName,salesName:null==e?void 0:e.salesRepresentative},null==e?void 0:e.id)},null==e?void 0:e.id)}):(0,l.jsx)(c,{})})]})}},69548:function(e,t,n){"use strict";n.d(t,{cn:function(){return i}});var l=n(44839),r=n(21150);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.m)((0,l.W)(t))}},26214:function(e,t){"use strict";t.Z={src:"/_next/static/media/pointOfSale.ee923ce2.svg",height:24,width:24,blurWidth:0,blurHeight:0}},89289:function(e,t){"use strict";t.Z={src:"/_next/static/media/timeIcon.eca7d636.svg",height:32,width:32,blurWidth:0,blurHeight:0}},12218:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});let l=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,r=function(){for(var e,t,n=0,l="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,l,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(l=e(t[n]))&&(r&&(r+=" "),r+=l);else for(n in t)t[n]&&(r&&(r+=" "),r+=n)}return r}(e))&&(l&&(l+=" "),l+=t);return l},i=(e,t)=>n=>{var i;if((null==t?void 0:t.variants)==null)return r(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:s,defaultVariants:u}=t,o=Object.keys(s).map(e=>{let t=null==n?void 0:n[e],r=null==u?void 0:u[e];if(null===t)return null;let i=l(t)||l(r);return s[e][i]}),a=n&&Object.entries(n).reduce((e,t)=>{let[n,l]=t;return void 0===l||(e[n]=l),e},{});return r(e,o,null==t?void 0:null===(i=t.compoundVariants)||void 0===i?void 0:i.reduce((e,t)=>{let{class:n,className:l,...r}=t;return Object.entries(r).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...u,...a}[t]):({...u,...a})[t]===n})?[...e,n,l]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}}},function(e){e.O(0,[6648,1264,231,1444,738,1150,6077,2971,7023,1744],function(){return e(e.s=24698)}),_N_E=e.O()}]);