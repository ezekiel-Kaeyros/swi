"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5532],{71726:function(e,t,l){var n=l(57437);l(2265);var i=l(95724);t.default=e=>{let{children:t}=e;return(0,n.jsx)(i.E.div,{className:"cursor-pointer w-full",whileHover:{scale:1},whileTap:{scale:.98},children:t})}},87464:function(e,t,l){l.d(t,{z:function(){return c}});var n=l(57437),i=l(12218);l(2265);var r=l(87138),s=l(66648),a=l(69548),d=l(71726);let o=(0,i.j)("w-full  text-white font-medium py-4 flex justify-center px-4  rounded-full focus:outline-none focus:shadow-outline",{variants:{variant:{default:"bg-buttonPrimary  text-white hover:opacity-90",primary:"bg-indigo-700 hover:bg-indigo-900",secondary:"bg-[#EEF3FB] hover:opacity-90 text-[#2C353A]",danger:"bg-red-500 w-full text-white hover:bg-red-600",outline:"bg-white w-full text-gray-700 border border-slate-300 hover:bg-greenpale hover:text-white hover:border-greenpale",disabled:"bg-buttonPrimary opacity-50 w-full text-white"}},defaultVariants:{variant:"default"}}),c=e=>{let{variant:t,className:l,href:i,icon:c,children:u,...v}=e;return i?(0,n.jsx)(d.default,{children:c?(0,n.jsxs)(r.default,{href:i,className:(0,a.cn)(o({variant:t,className:l})),children:[(0,n.jsx)("span",{className:"mr-2",children:c?(0,n.jsx)(s.default,{src:c,alt:"Icon"}):""}),u]}):(0,n.jsx)(r.default,{href:i,className:(0,a.cn)(o({variant:t,className:l})),children:u})}):(0,n.jsx)(d.default,{children:(0,n.jsx)("button",{...v,className:(0,a.cn)(o({variant:t,className:l})),children:(0,n.jsxs)("div",{className:"flex items-center justify-center whitespace-nowrap font-medium text-[13px]",children:[(0,n.jsx)("span",{className:"mr-2",children:c?(0,n.jsx)(s.default,{width:15,src:c,alt:"Icon"}):""}),(0,n.jsx)("div",{className:"mt-[.2rem] font-bold font-articulat",children:u})]})})})}},84648:function(e,t,l){l.d(t,{Z:function(){return P}});var n=l(57437),i=l(2265),r=l(66648),s=l(26214),a=l(15134),d=l(41587),o=l(32046),c=l(50187),u={src:"/_next/static/media/menuIcon.d35d0dcb.svg",height:24,width:25,blurWidth:0,blurHeight:0},v=l(2929),h=l(76077),x=e=>{let{id:t}=e,{dispatch:l,selectedRouteId:i}=(0,v.W)();return(0,n.jsxs)(a.j,{placement:"right-start",offset:10,children:[(0,n.jsx)(d.b,{className:"flex items-center",children:(0,n.jsx)(o.A,{isIconOnly:!0,size:"md",startContent:(0,n.jsx)(r.default,{className:"w-10",src:u,alt:"Menu icon"}),className:"rounded-full py-1 bg-transparent w-fit"})}),(0,n.jsx)(c.g,{className:"max-w-sm bg-cardDark",children:()=>(0,n.jsx)("div",{className:"px-1 py-2 w-full",children:(0,n.jsx)("div",{className:"mt-2 flex flex-wrap gap-2 w-full",children:(0,n.jsxs)("ul",{className:"space-y-2",children:[(0,n.jsx)("li",{className:"cursor-pointer",children:"View"}),(0,n.jsx)("li",{className:"cursor-pointer",onClick:()=>l((0,h.km)({routeId:i,posId:t})),children:"Remove"})]})})})})]})},f=e=>{let{icon:t,stat:l,color:i}=e;return(0,n.jsxs)("div",{style:{backgroundColor:i||"#2D383C"},className:"px-3 mr-2 mt-2 h-8 py-1  rounded-full flex items-center",children:[(0,n.jsx)(r.default,{src:t,alt:"Stat icon"})," ",(0,n.jsx)("div",{className:"ml-2 text-sm",children:l})]})},m={src:"/_next/static/media/categoryIcon.4f63c500.svg",height:16,width:16,blurWidth:0,blurHeight:0},g=l(92168),p=l(4299),j=l(24583),b={src:"/_next/static/media/TasksIcon.5d98fabb.svg",height:24,width:24,blurWidth:0,blurHeight:0},w=l(12218),y={src:"/_next/static/media/checkedIcon.c694b0b7.svg",height:24,width:24,blurWidth:0,blurHeight:0},N=l(69548),S=l(6355);let C=(0,w.j)("w-fit cursor-pointer text-sm rounded-full text-white font-medium py-2 flex items-center justify-center px-3 border",{variants:{variant:{active:"bg-buttonPrimary  text-white hover:opacity-90",inactive:"dark:border-white dark:text-white hover:opacity-90"}},defaultVariants:{variant:"inactive"}});var I=e=>{var t;let{title:l,variant:s,chipId:a,className:d,duration:o,posId:c,handleSelected:u}=e,{routes:h,selectedRouteId:x}=(0,v.W)(),{channelClusters:f}=(0,S.r)(),[m,g]=(0,i.useState)(!1),[p,j]=(0,i.useState)([]),b=null==h?void 0:h.find(e=>(null==e?void 0:e.id)===x),w=null==b?void 0:null===(t=b.pointOfSales)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.id.toString())===(null==c?void 0:c.toString()));return(0,i.useEffect)(()=>{var e;j(null==(e=null==w?void 0:w.tasks)?void 0:e.map(e=>e.name)),(null==p?void 0:p.includes(l))?g(!1):g(!0)},[h,p,x,l]),(0,n.jsxs)("div",{onClick:()=>{g(!0),u(a)},className:" ".concat(!m&&"bg-buttonPrimary"," ").concat((0,N.cn)(C({variant:s,className:d}))),children:[!m&&(0,n.jsx)(r.default,{src:y,alt:"Checked icon"}),(0,n.jsxs)("h1",{className:"ml-2 flex items-center",children:[l," ",(0,n.jsxs)("div",{className:"py-1 px-2 rounded-full ml-1 text-sm",style:{backgroundColor:"".concat((e=>{var t;let l=null==f?void 0:f.find(t=>(null==t?void 0:t.id)===e);return null==l?void 0:null===(t=l.color)||void 0===t?void 0:t.hex})(null==w?void 0:w.channelCluster))},children:[o,"min"]})]})]})},k=e=>{var t,l;let{posId:i}=e,{dispatch:s,routes:u,selectedRouteId:x}=(0,v.W)(),{activities:f}=(0,S.r)(),m=e=>{let t=null==f?void 0:f.find(t=>(null==t?void 0:t.id.toString())===e.toString());s((0,h.ML)({posId:i,routeId:x,currentActivity:t,ActivityId:null==t?void 0:t.id}))},g=null==u?void 0:u.find(e=>(null==e?void 0:e.id)===x),p=null==g?void 0:null===(t=g.pointOfSales)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.id.toString())===(null==i?void 0:i.toString())),j=null==p?void 0:null===(l=p.tasks)||void 0===l?void 0:l.length,w=null==f?void 0:f.filter(e=>(null==e?void 0:e.channelCluster.toString())===(null==p?void 0:p.channelCluster.toString())&&(null==e?void 0:e.tradeChannel.toString())===(null==p?void 0:p.tradeChannel.toString())&&(null==e?void 0:e.category.toString())===(null==p?void 0:p.category.toString()));return(0,n.jsxs)(a.j,{placement:"right-start",offset:10,children:[(0,n.jsx)(d.b,{className:"flex items-center",children:(0,n.jsx)(o.A,{startContent:(0,n.jsx)(r.default,{src:b,alt:"Task icon"}),className:"".concat(j>0?"bg-buttonPrimary":"bg-transparent border-dashed "," rounded-full py-4 px-8 w-fit border"),children:j>=1?(0,n.jsxs)("div",{className:"flex items-center",children:[j," ",(0,n.jsx)("div",{className:"ml-2",children:"Activit".concat(j>1?"ies":"y")})]}):"Add activities"})}),(0,n.jsx)(c.g,{className:"max-w-sm bg-cardDark",children:e=>(0,n.jsxs)("div",{className:"px-1 py-2 w-full",children:[(0,n.jsx)("p",{className:"text-small mb-4 font-bold text-foreground",...e,children:"Select activities"}),(0,n.jsx)("div",{className:"mt-2 flex flex-wrap gap-2 w-full",children:w&&(null==w?void 0:w.map(e=>(0,n.jsx)(I,{duration:null==e?void 0:e.duration,posId:parseInt("".concat(i)),handleSelected:e=>m(e),chipId:parseInt("".concat(null==e?void 0:e.id)),title:null==e?void 0:e.name},null==e?void 0:e.id)))})]})})]})},R=e=>{let{color:t}=e;return(0,n.jsxs)("svg",{width:"25",height:"25",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{opacity:"0.4",d:"M9.9999 18.3333C13.9902 18.3333 17.2249 15.0986 17.2249 11.1083C17.2249 7.11804 13.9902 3.8833 9.9999 3.8833C6.00965 3.8833 2.7749 7.11804 2.7749 11.1083C2.7749 15.0986 6.00965 18.3333 9.9999 18.3333Z",fill:"".concat(t&&t||"white")}),(0,n.jsx)("path",{d:"M10 11.4582C9.65833 11.4582 9.375 11.1748 9.375 10.8332V6.6665C9.375 6.32484 9.65833 6.0415 10 6.0415C10.3417 6.0415 10.625 6.32484 10.625 6.6665V10.8332C10.625 11.1748 10.3417 11.4582 10 11.4582Z",fill:"".concat(t&&t||"white")}),(0,n.jsx)("path",{d:"M12.4084 2.87484H7.5917C7.25837 2.87484 6.9917 2.60817 6.9917 2.27484C6.9917 1.9415 7.25837 1.6665 7.5917 1.6665H12.4084C12.7417 1.6665 13.0084 1.93317 13.0084 2.2665C13.0084 2.59984 12.7417 2.87484 12.4084 2.87484Z",fill:"".concat(t&&t||"white")})]})},W=l(95638),P=e=>{var t,l;let{id:i,shopName:a,shopLocation:d,shopOwner:o,contact:c,firstStat:u,secondStat:h,channelCluster:b,tradeChannel:w,totalActivitiesDuration:y,category:N,isRoutePlanning:C,handleSelected:I}=e,{channelClusters:P}=(0,S.r)(),{selectedRouteId:A,routes:O}=(0,v.W)(),Z=null==O?void 0:O.find(e=>{var t;return(null==e?void 0:null===(t=e.id)||void 0===t?void 0:t.toString())===(null==A?void 0:A.toString())}),H=null==Z?void 0:null===(t=Z.pointOfSales)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.id.toString())===i.toString()),_=e=>{var t;let l=null==P?void 0:P.find(t=>(null==t?void 0:t.id)===e);return null==l?void 0:null===(t=l.color)||void 0===t?void 0:t.hex},M=null==(l=null==H?void 0:H.tasks)?void 0:l.reduce((e,t)=>e+t.duration,0);return(0,n.jsxs)("div",{onClick:()=>I&&I(i),className:"dark:bg-cardDark rounded-xl w-full p-6 hover:opacity-90  overflow-y-hide",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[C&&(0,n.jsx)(r.default,{src:j.Z,className:"mr-2",alt:"Menu icon"}),(0,n.jsx)("div",{className:"flex items-center justify-center rounded-lg p-2",style:{backgroundColor:_(b)},children:(0,n.jsx)(r.default,{src:s.Z,alt:"Shop icon"})}),(0,n.jsxs)("div",{className:"mx-4",children:[(0,n.jsx)("h1",{className:"font-bold text-xl",children:a}),(0,n.jsx)("h3",{className:" mt-1 opacity-60",children:d})]})]}),C&&(0,n.jsx)("div",{className:"ml-4",children:(0,n.jsx)(x,{id:i})})]}),(0,n.jsxs)("div",{className:"flex  justify-between mt-4  items-center",children:[C&&(0,n.jsxs)("div",{className:"flex space-x-4 justify-start items-center flex-wrap max-w-sm ",children:[(0,n.jsx)(R,{color:_(b)})," ",(0,n.jsx)("h1",{children:M?(0,W.Os)(M):(0,W.Os)(0)})]}),(0,n.jsx)("div",{className:"",children:C&&(0,n.jsx)(k,{posId:parseInt("".concat(i))})})]}),(0,n.jsxs)("div",{className:"flex justify-between mt-4 ",children:[(0,n.jsx)(f,{color:_(b),icon:m,stat:N}),(0,n.jsx)(f,{icon:g.Z,stat:c}),(0,n.jsx)(f,{icon:p.Z,stat:o})]})]})}},95638:function(e,t,l){function n(e){var t;if(isNaN(e)||e<0)return"Invalid input";let l=Math.floor(e/60),n=e%60,i=null==l?void 0:l.toString().padStart(2,"0"),r=null==n?void 0:null===(t=n.toString())||void 0===t?void 0:t.padStart(2,"0");return"".concat(i,"h:").concat(r,"min")}function i(e){return null==e?void 0:e.reduce((e,t)=>{var l;return e+(null==t?void 0:null===(l=t.pointOfSales)||void 0===l?void 0:l.reduce((e,t)=>e+((null==t?void 0:t.tasks)||[]).reduce((e,t)=>e+(t.duration||0),0),0))},0)}function r(e){return null==e?void 0:e.reduce((e,t)=>{var l;return n(e+(null==t?void 0:null===(l=t.pointOfSales)||void 0===l?void 0:l.reduce((e,t)=>e+((null==t?void 0:t.tasks)||[]).reduce((e,t)=>e+(t.duration||0),0),0)))},0)}l.d(t,{Os:function(){return n},k:function(){return i},ks:function(){return r}})},95463:function(e,t,l){var n=l(57437),i=l(45383);l(2265);var r=l(30938),s=l(2929),a=l(76077);t.Z=e=>{let{handleOnFocus:t,handleOnHover:l,handleOnSearch:d}=e,{dispatch:o,routes:c,selectedRouteId:u}=(0,s.W)();return(0,n.jsx)(r.ReactSearchAutocomplete,{items:i.h,onSearch:d,onHover:l,showItemsOnFocus:!1,onSelect:e=>{o((0,a.l9)({routeId:u,posId:null==e?void 0:e.id}))},onFocus:t,inputSearchString:"",placeholder:"Search POS by name",formatResult:e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("span",{style:{display:"flex",cursor:"pointer",alignItems:"center",textAlign:"left"},children:[null==e?void 0:e.name," - ",null==e?void 0:e.shopLocation," - ",null==e?void 0:e.shopOwner]})}),styling:{height:"50px",border:"1px solid #414C50",zIndex:20,boxShadow:"rgba(32, 33, 36, 0) 0px 1px 6px 0px",hoverBackgroundColor:"#414C50",backgroundColor:"#414C50",color:"white",fontSize:"16px",fontFamily:"",iconColor:"white",lineColor:"rgb(232, 234, 237)",placeholderColor:"grey",clearIconMargin:"3px 14px 0 0",searchIconMargin:"0 0 0 .4rem"}})}},2929:function(e,t,l){l.d(t,{W:function(){return i}});var n=l(11444);let i=()=>{let e=(0,n.v9)(e=>e.RoutePlanningReducer.routes),t=(0,n.v9)(e=>null==e?void 0:e.RoutePlanningReducer.searchedSalesAgent),l=(0,n.v9)(e=>null==e?void 0:e.RoutePlanningReducer.searchedSalesPointValue),i=(0,n.v9)(e=>null==e?void 0:e.RoutePlanningReducer.selectedRouteId),r=(0,n.v9)(e=>null==e?void 0:e.RoutePlanningReducer.travelTime),s=(0,n.v9)(e=>null==e?void 0:e.RoutePlanningReducer.toggleMaps),a=(0,n.v9)(e=>null==e?void 0:e.RoutePlanningReducer.showAllRoutes);return{routes:e,dispatch:(0,n.I0)(),searchedPointOfSales:l,searchedSalesAgent:t,travelTime:r,selectedRouteId:i,toggleMapsValue:s,showAllRoutes:a}}},6355:function(e,t,l){l.d(t,{r:function(){return i}});var n=l(11444);let i=()=>{let e=(0,n.v9)(e=>null==e?void 0:e.ChannelClusterReducer.channelCluster),t=(0,n.v9)(e=>null==e?void 0:e.ActivityReducer.activities);return{dispatch:(0,n.I0)(),channelClusters:e,activities:t}}},69548:function(e,t,l){l.d(t,{cn:function(){return r}});var n=l(44839),i=l(21150);function r(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return(0,i.m)((0,n.W)(t))}},92168:function(e,t){t.Z={src:"/_next/static/media/contactIconGreen.e78a8623.svg",height:16,width:16,blurWidth:0,blurHeight:0}},24583:function(e,t){t.Z={src:"/_next/static/media/hamburgerMenuIcon.2f75bc7d.svg",height:24,width:24,blurWidth:0,blurHeight:0}},26214:function(e,t){t.Z={src:"/_next/static/media/pointOfSale.ee923ce2.svg",height:24,width:24,blurWidth:0,blurHeight:0}},4299:function(e,t){t.Z={src:"/_next/static/media/userIconGreen.04c764b6.svg",height:16,width:16,blurWidth:0,blurHeight:0}}}]);