"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2232],{20920:function(e,t,n){let r;n.d(t,{Z:function(){return i}});var o={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let a=new Uint8Array(16),l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));var i=function(e,t,n){if(o.randomUUID&&!t&&!e)return o.randomUUID();let i=(e=e||{}).random||(e.rng||function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e,t=0){return l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]}(i)}},72633:function(e,t,n){n.d(t,{D5:function(){return M},Rt:function(){return A},Sx:function(){return B},ZM:function(){return j},_D:function(){return F},_Q:function(){return R},kY:function(){return P},nx:function(){return x},un:function(){return h}});var r,o,a=n(2265),l=n(54887);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}class c{static async load(e){var t;let n=e.libraries?e.libraries.split(","):[],r=this.serializeParams(e);for(let o of(null!=(t=window.google)&&null!=(t=t.maps)&&t.importLibrary||(window.__googleMapsApiParams__=r,this.initImportLibrary(e)),window.__googleMapsApiParams__&&window.__googleMapsApiParams__!==r&&console.warn("The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect."),["maps",...n]))await google.maps.importLibrary(o)}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.warn("initImportLibrary can only be called once.",e);return}let t=null,n=n=>t||(t=new Promise((t,r)=>{var o;let a=document.createElement("script"),l=new URLSearchParams;for(let[t,n]of Object.entries(e)){let e=t.replace(/[A-Z]/g,e=>"_"+e[0].toLowerCase());l.set(e,n)}l.set("libraries",n),l.set("callback","__googleMapsCallback__"),a.src="https://maps.googleapis.com/maps/api/js?"+l.toString(),window.__googleMapsCallback__=t,a.onerror=()=>r(Error("The Google Maps JavaScript API could not load.")),a.nonce=(null==(o=document.querySelector("script[nonce]"))?void 0:o.nonce)||"",document.head.append(a)}));google.maps.importLibrary=e=>n(e).then(()=>google.maps.importLibrary(e))}}let d=["onLoad","apiKey","libraries"],m=["children"];(r=o||(o={})).NOT_LOADED="NOT_LOADED",r.LOADING="LOADING",r.LOADED="LOADED",r.FAILED="FAILED";let{NOT_LOADED:g,LOADING:p,LOADED:f,FAILED:v}=o,E=a.createContext(null),h=e=>{let{children:t}=e,n=u(e,m),{mapInstances:r,addMapInstance:o,removeMapInstance:l,clearMapInstances:h}=function(){let[e,t]=(0,a.useState)({});return{mapInstances:e,addMapInstance:(e,n="default")=>{t(t=>i({},t,{[n]:e}))},removeMapInstance:(e="default")=>{t(t=>u(t,[e].map(s)))},clearMapInstances:()=>{t({})}}}(),{status:_,loadedLibraries:L,importLibrary:b}=function(e){let{onLoad:t,apiKey:n,libraries:r=[]}=e,o=u(e,d),[l,s]=(0,a.useState)(g),[m,E]=(0,a.useReducer)((e,t)=>i({},e,{[t.name]:t.value}),{}),h=(0,a.useMemo)(()=>null==r?void 0:r.join(","),[r]),_=(0,a.useMemo)(()=>JSON.stringify(o),[o]),L=(0,a.useCallback)(async e=>{var t;if(m[e])return m[e];if(!(null!=(t=google)&&null!=(t=t.maps)&&t.importLibrary))throw Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");let n=await window.google.maps.importLibrary(e);return E({name:e,value:n}),n},[m]);return(0,a.useEffect)(()=>{s(p),(async()=>{try{for(let e of(await c.load(i({key:n,libraries:h},o)),s(f),["core","maps",...r]))await L(e);t&&t()}catch(e){console.error("<ApiProvider> failed to load Google Maps API",e),s(v)}})()},[n,h,_]),{status:l,loadedLibraries:m,importLibrary:L}}(n);return a.createElement(E.Provider,{value:{mapInstances:r,addMapInstance:o,removeMapInstance:l,clearMapInstances:h,status:_,loadedLibraries:L,importLibrary:b}},t)};function _(){var e;return((null==(e=(0,a.useContext)(E))?void 0:e.status)||o.NOT_LOADED)===o.LOADED}let L=new Set;function b(...e){let t=JSON.stringify(e);L.has(t)||(L.add(t),console.error(...e))}let T={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},I=["bounds_changed","center_changed","heading_changed","projection_changed","tilt_changed","zoom_changed"],C=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],N=Object.keys(T),y=["center","zoom","heading","tilt"],O=["mapId"],w=["id","initialBounds"],D=a.createContext(null),M=e=>{let{children:t,id:n,className:r,style:o,viewState:l,viewport:s}=e,c=(0,a.useContext)(E);if(!c)throw Error("<Map> can only be used inside an <ApiProvider> component.");let[d,m]=function(e,t){let n=_(),[r,o]=(0,a.useState)(null),[l,i]=function(){let[e,t]=(0,a.useState)(null);return[e,(0,a.useCallback)(e=>t(e),[t])]}(),{id:s,initialBounds:c}=e,d=u(e,w);return(0,a.useEffect)(()=>{if(!l||!n)return;let{addMapInstance:e,removeMapInstance:r}=t,a=new google.maps.Map(l,d);return o(a),e(a,s),c&&a.fitBounds(c),()=>{l&&n&&(google.maps.event.clearInstanceListeners(a),o(null),r(s))}},[s,l,n,e.mapId]),(0,a.useEffect)(()=>{if(!s)return;let{mapInstances:e}=t;e[s]&&e[s]!==r&&b(`The map id '${s}' seems to have been used multiple times. This can lead to unexpected problems when accessing the maps. Please use unique ids for all <Map> components.`)},[s,t,r]),[r,i]}(e,c),g=(0,a.useRef)({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});!function(e,t,n){let{center:r,zoom:o,heading:l,tilt:i}=n,s=u(n,y),c=r?r&&"object"==typeof r&&"lat"in r&&"lng"in r&&Number.isFinite(r.lat)&&Number.isFinite(r.lng)?r:r.toJSON():null,d=c&&c.lat,m=c&&c.lng;(0,a.useEffect)(()=>{if(!e)return;let t=u(s,O);e.setOptions(t)},[s]),(0,a.useLayoutEffect)(()=>{e&&Number.isFinite(d)&&Number.isFinite(m)&&(t.current.center.lat!==d||t.current.center.lng!==m)&&e.moveCamera({center:{lat:d,lng:m}})},[d,m]),(0,a.useLayoutEffect)(()=>{e&&Number.isFinite(o)&&t.current.zoom!==o&&e.moveCamera({zoom:o})},[o]),(0,a.useLayoutEffect)(()=>{e&&Number.isFinite(l)&&t.current.heading!==l&&e.moveCamera({heading:l})},[l]),(0,a.useLayoutEffect)(()=>{e&&Number.isFinite(i)&&t.current.tilt!==i&&e.moveCamera({tilt:i})},[i])}(d,g,e),function(e,t,n){for(let r of N){let o=n[r],l=T[r];(0,a.useEffect)(()=>{if(!e||!o)return;let n=e.addListener(l,n=>{let r=function(e,t,n){let r={type:e,map:t,detail:{},stoppable:!1,stop:()=>{}};if(I.includes(e)){let e=t.getCenter(),n=t.getZoom(),o=t.getHeading()||0,a=t.getTilt()||0,l=t.getBounds();return e&&l&&Number.isFinite(n)||console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),r.detail={center:(null==e?void 0:e.toJSON())||{lat:0,lng:0},zoom:n,heading:o,tilt:a,bounds:(null==l?void 0:l.toJSON())||{north:90,east:180,south:-90,west:-180}},r}if(C.includes(e)){var o;if(!n)throw Error("[createEvent] mouse events must provide a srcEvent");return r.domEvent=n.domEvent,r.stoppable=!0,r.stop=()=>n.stop(),r.detail={latLng:(null==(o=n.latLng)?void 0:o.toJSON())||null,placeId:n.placeId},r}return r}(l,e,n);(function(e,t){if(!e.detail.center)return;let{center:n,zoom:r,heading:o,tilt:a}=e.detail;t.current.center=n,t.current.heading=o,t.current.tilt=a,t.current.zoom=r})(r,t),o(r)});return()=>n.remove()},[e,t,l,o])}}(d,g,e),(0,a.useLayoutEffect)(()=>{if(!d||!l)return;d.setOptions({gestureHandling:"none",keyboardShortcuts:!1,disableDefaultUI:!0});let{latitude:e,longitude:t,bearing:n,pitch:r,zoom:o}=l;d.moveCamera({center:{lat:e,lng:t},heading:n,tilt:r,zoom:o+1})},[d,l]);let p=(0,a.useMemo)(()=>!!s,[s]),f=(0,a.useMemo)(()=>i({width:"100%",height:"100%",zIndex:p?-1:0},o),[o,p]);return a.createElement("div",i({ref:m,"data-testid":"map",style:r?void 0:f,className:r},n?{id:n}:{}),d?a.createElement(D.Provider,{value:{map:d}},t):null)};function P(e){let t=_(),n=(0,a.useContext)(E);return(0,a.useEffect)(()=>{t&&n&&n.importLibrary(e)},[t,null==n?void 0:n.importLibrary]),(null==n?void 0:n.loadedLibraries[e])||null}M.deckGLViewProps=!0;let S=a.createContext(null),R=(0,a.forwardRef)((e,t)=>{let{children:n}=e,[r,o]=function(e){var t;let[n,r]=(0,a.useState)(null),[o,l]=(0,a.useState)(null),i=null==(t=(0,a.useContext)(D))?void 0:t.map,u=P("marker"),{children:s,className:c,onClick:d,onDrag:m,onDragStart:g,onDragEnd:p,collisionBehavior:f,draggable:v,position:E,title:h,zIndex:_}=e,L=a.Children.count(s);return(0,a.useEffect)(()=>{if(!i||!u)return;let e=new u.AdvancedMarkerElement;if(e.map=i,r(e),L>0){let t=document.createElement("div");c&&(t.className=c),e.content=t,l(t)}return()=>{e.map=null,r(null),l(null)}},[i,u,L]),(0,a.useEffect)(()=>{if(n)return d&&n.addListener("click",d),m&&n.addListener("drag",m),g&&n.addListener("dragstart",g),p&&n.addListener("dragend",p),(m||g||p)&&!v&&console.warn("You need to set the marker to draggable to listen to drag-events."),()=>{google.maps.event.clearInstanceListeners(n)}},[n,v,d,g,m,p]),(0,a.useEffect)(()=>{n&&(void 0!==E&&(n.position=E),void 0!==v&&(n.gmpDraggable=v),void 0!==f&&(n.collisionBehavior=f),void 0!==_&&(n.zIndex=_),"string"==typeof h&&(n.title=h))},[n,E,v,f,_,h]),[n,o]}(e);return((0,a.useImperativeHandle)(t,()=>r,[r]),r)?a.createElement(S.Provider,{value:{marker:r}},null!==o&&(0,l.createPortal)(n,o)):null});function A(){let[e,t]=(0,a.useState)(null);return[(0,a.useCallback)(e=>{t(e)},[]),e]}let k=["children","anchor","onCloseClick"],x=e=>{var t;let{children:n,anchor:r,onCloseClick:o}=e,i=u(e,k),s=null==(t=(0,a.useContext)(D))?void 0:t.map,[c,d]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!s)return;let e=new google.maps.InfoWindow(i),t=document.createElement("div");return e.setContent(t),e.open({map:s,anchor:r}),o&&e.addListener("closeclick",()=>{o()}),d(t),()=>{google.maps.event.clearInstanceListeners(e),e.close(),t.remove(),d(null)}},[s,n,r]),a.createElement(a.Fragment,null,null!==c&&(0,l.createPortal)(n,c))},B=(e=null)=>{let t=(0,a.useContext)(E),{map:n}=(0,a.useContext)(D)||{};if(null===t)return b("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;let{mapInstances:r}=t;return null!==e?r[e]||null:n||r.default||null},F={TOP_LEFT:1,TOP_CENTER:2,TOP:2,TOP_RIGHT:3,LEFT_CENTER:4,LEFT_TOP:5,LEFT:5,LEFT_BOTTOM:6,RIGHT_TOP:7,RIGHT:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM:11,BOTTOM_RIGHT:12,CENTER:13,BLOCK_START_INLINE_START:14,BLOCK_START_INLINE_CENTER:15,BLOCK_START_INLINE_END:16,INLINE_START_BLOCK_CENTER:17,INLINE_START_BLOCK_START:18,INLINE_START_BLOCK_END:19,INLINE_END_BLOCK_START:20,INLINE_END_BLOCK_CENTER:21,INLINE_END_BLOCK_END:22,BLOCK_END_INLINE_START:23,BLOCK_END_INLINE_CENTER:24,BLOCK_END_INLINE_END:25},j=({children:e,position:t})=>{let n=(0,a.useMemo)(()=>document.createElement("div"),[]),r=B();return(0,a.useEffect)(()=>{if(!r)return;let e=r.controls[t];return e.push(n),()=>{let t=e.getArray().indexOf(n);e.removeAt(t)}},[r,t]),(0,l.createPortal)(e,n)},z=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];(0,a.forwardRef)((e,t)=>{let n=function(e){var t;let[n,r]=(0,a.useState)(null),o=null==(t=(0,a.useContext)(D))?void 0:t.map,{onClick:l,onDrag:i,onDragStart:s,onDragEnd:c,onMouseOver:d,onMouseOut:m}=e,g=u(e,z),{position:p,draggable:f}=g;return(0,a.useEffect)(()=>{if(!o){void 0===o&&console.error("<Marker> has to be inside a Map component.");return}let e=new google.maps.Marker(g);return e.setMap(o),r(e),()=>{e.setMap(null),r(null)}},[o]),(0,a.useEffect)(()=>{if(n)return l&&n.addListener("click",l),i&&n.addListener("drag",i),s&&n.addListener("dragstart",s),c&&n.addListener("dragend",c),d&&n.addListener("mouseover",d),m&&n.addListener("mouseout",m),n.setDraggable(!!f),()=>{google.maps.event.clearInstanceListeners(n)}},[n,f,l,i,s,c,d,m]),(0,a.useEffect)(()=>{n&&g&&n.setOptions(g)},[n,g]),(0,a.useEffect)(()=>{!f&&p&&n&&n.setPosition(p)},[f,p,n]),n}(e);return(0,a.useImperativeHandle)(t,()=>n,[n]),a.createElement(a.Fragment,null)})}}]);